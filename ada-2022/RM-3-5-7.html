<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Floating Point Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.Indented1 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 4.3em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 4.0em; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B> (Ada 2022 Draft 35)</SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-5-6.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-5-8.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>3.5.7 Floating Point Types</H1>
<div class="paranum"><a name="p1">1</a></div>
<div class="Normal"><A NAME="I1890"></A>For floating point types, the 
error bound is specified as a relative precision by giving the required 
minimum number of significant decimal digits.&nbsp;</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p2">2</a></div>
<div class="Indented1"><SPAN Class="swiss">floating_point_definition</SPAN><A NAME="I1891"></A><A NAME="S0045"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>digits</B>&nbsp;<I>static_</I><A NAME="I1892"></A><SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN>&nbsp;[<A NAME="I1893"></A><SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0046">real_range_specification</A></SPAN>]</div>
<div class="paranum"><a name="p3">3</a></div>
<div class="Indented1"><SPAN Class="swiss">real_range_specification</SPAN><A NAME="I1894"></A><A NAME="S0046"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>range</B>&nbsp;<I>static_</I><A NAME="I1895"></A><SPAN Class="swiss"><A HREF="RM-4-4.html#S0138">simple_expression</A></SPAN>&nbsp;..&nbsp;<I>static_</I><A NAME="I1896"></A><SPAN Class="swiss"><A HREF="RM-4-4.html#S0138">simple_expression</A></SPAN></div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum"><a name="p4">4</a></div>
<div class="Normal"><A NAME="I1897"></A>The <I>requested decimal precision</I>, 
which is the minimum number of significant decimal digits required for 
the floating point type, is specified by the value of the <SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
given after the reserved word <B>digits</B>. <A NAME="I1898"></A>This 
<SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
is expected to be of any integer type.</div>
<div class="paranum"><a name="p5">5/5</a></div>
<div class="Normal"><A NAME="I1899"></A>Each <SPAN Class="swiss"><A HREF="RM-4-4.html#S0138">simple_expression</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0046">real_range_specification</A></SPAN> 
is expected to be of any real type; the types can be different.&nbsp;</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p6">6</a></div>
<div class="Normal"><A NAME="I1900"></A>The requested decimal precision 
shall be specified by a static <SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
whose value is positive and no greater than System.Max_Base_Digits. Each 
<SPAN Class="swiss"><A HREF="RM-4-4.html#S0138">simple_expression</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0046">real_range_specification</A></SPAN> 
shall also be static. <A NAME="I1901"></A>If the <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0046">real_range_specification</A></SPAN> 
is omitted, the requested decimal precision shall be no greater than 
System.Max_Digits.&nbsp;</div>
<div class="paranum"><a name="p7">7</a></div>
<div class="Normal">A <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0045">floating_point_definition</A></SPAN> 
is illegal if the implementation does not support a floating point type 
that satisfies the requested decimal precision and range.&nbsp;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p8">8</a></div>
<div class="Normal">The set of values for a floating point type is the 
(infinite) set of rational numbers. <A NAME="I1902"></A>The <I>machine 
numbers</I> of a floating point type are the values of the type that 
can be represented exactly in every unconstrained variable of the type. 
<A NAME="I1903"></A>The base range (see <A HREF="RM-3-5.html">3.5</A>) 
of a floating point type is symmetric around zero, except that it can 
include some extra negative values in some implementations.</div>
<div class="paranum"><a name="p9">9</a></div>
<div class="Normal"><A NAME="I1904"></A>The <I>base decimal precision</I> 
of a floating point type is the number of decimal digits of precision 
representable in objects of the type. <A NAME="I1905"></A>The <I>safe 
range</I> of a floating point type is that part of its base range for 
which the accuracy corresponding to the base decimal precision is preserved 
by all predefined operations.&nbsp;</div>
<div class="paranum"><a name="p10">10/5</a></div>
<div class="Normal"><A NAME="I1906"></A>A <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0045">floating_point_definition</A></SPAN> 
defines a floating point type whose base decimal precision is no less 
than the requested decimal precision. <A NAME="I1907"></A><A NAME="I1908"></A>If 
a <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0046">real_range_specification</A></SPAN> 
is given, the safe range of the floating point type (and hence, also 
its base range) includes at least the values of the simple expressions 
given in the <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0046">real_range_specification</A></SPAN>. 
If a <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0046">real_range_specification</A></SPAN> 
is not given, the safe (and base) range of the type includes at least 
the values of the range &ndash;10.0**(4*D) .. +10.0**(4*D) where D is 
the requested decimal precision. The safe range can include other values 
as well. The attributes Safe_First and Safe_Last give the actual bounds 
of the safe range.</div>
<div class="paranum"><a name="p11">11</a></div>
<div class="Normal">A <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0045">floating_point_definition</A></SPAN> 
also defines a first subtype of the type. <A NAME="I1909"></A><A NAME="I1910"></A>If 
a <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0046">real_range_specification</A></SPAN> 
is given, then the subtype is constrained to a range whose bounds are 
given by a conversion of the values of the <SPAN Class="swiss"><A HREF="RM-4-4.html#S0138">simple_expression</A></SPAN>s 
of the <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0046">real_range_specification</A></SPAN> 
to the type being defined. Otherwise, the subtype is unconstrained.</div>
<div class="paranum"><a name="p12">12</a></div>
<div class="Normal"><A NAME="I1911"></A>There is a predefined, unconstrained, 
floating point subtype named Float, declared in the visible part of package 
Standard.&nbsp;</div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum"><a name="p13">13</a></div>
<div class="Normal"><A NAME="I1912"></A>The elaboration of a <SPAN Class="swiss"><A HREF="RM-3-5-7.html#S0045">floating_point_definition</A></SPAN> 
creates the floating point type and its first subtype.&nbsp;</div>

<H4 Class="centered">Implementation Requirements</H4>
<div class="paranum"><a name="p14">14</a></div>
<div class="Normal"><A NAME="I1913"></A>In an implementation that supports 
floating point types with 6 or more digits of precision, the requested 
decimal precision for Float shall be at least 6.</div>
<div class="paranum"><a name="p15">15</a></div>
<div class="Normal"><A NAME="I1914"></A>If Long_Float is predefined for 
an implementation, then its requested decimal precision shall be at least 
11.&nbsp;</div>

<H4 Class="centered">Implementation Permissions</H4>
<div class="paranum"><a name="p16">16/5</a></div>
<div class="Normal"><A NAME="I1915"></A><A NAME="I1916"></A>An implementation 
is allowed to provide additional predefined floating point types, declared 
in the visible part of Standard, whose (unconstrained) first subtypes 
have names of the form Short_Float, Long_Float, Short_Short_Float, Long_Long_Float, 
etc. Different predefined floating point types are allowed to have the 
same base decimal precision. However, the precision of Float should be 
no greater than that of Long_Float. Similarly, the precision of Short_Float 
(if provided) should be no greater than Float. Corresponding recommendations 
apply to any other predefined floating point types. An implementation 
may support base decimal precisions for which there is no corresponding 
named floating point type.&nbsp;</div>

<H4 Class="centered">Implementation Advice</H4>
<div class="paranum"><a name="p17">17</a></div>
<div class="Normal"><A NAME="I1917"></A>An implementation should support 
Long_Float in addition to Float if the target machine supports 11 or 
more digits of precision. No other named floating point subtypes are 
recommended for package Standard. Instead, appropriate named floating 
point subtypes should be provided in the library package Interfaces (see 
<A HREF="RM-B-2.html">B.2</A>).&nbsp;</div>
<div class="paranum"><a name="p18">18</a></div>
<div class="Notes">NOTE&nbsp;&nbsp;&nbsp;If a floating point subtype 
is unconstrained, then assignments to variables of the subtype involve 
only Overflow_Checks, never Range_Checks.&nbsp;</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p19">19</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Examples of floating 
point types and subtypes:</I>&nbsp;</div>
<div class="paranum"><a name="p20">20</a></div>
<div class="Examples"><B>type</B>&nbsp;Coefficient&nbsp;<B>is</B>&nbsp;<B>digits</B>&nbsp;10&nbsp;<B>range</B>&nbsp;-1.0&nbsp;..&nbsp;1.0;</div>
<div class="paranum"><a name="p21">21</a></div>
<div class="Examples"><B>type</B>&nbsp;Real&nbsp;<B>is</B>&nbsp;<B>digits</B>&nbsp;8;<BR>
<B>type</B>&nbsp;Mass&nbsp;<B>is</B>&nbsp;<B>digits</B>&nbsp;7&nbsp;<B>range</B>&nbsp;0.0&nbsp;..&nbsp;1.0E35;</div>
<div class="paranum"><a name="p22">22</a></div>
<div class="Examples"><B>subtype</B>&nbsp;Probability&nbsp;<B>is</B>&nbsp;Real&nbsp;<B>range</B>&nbsp;0.0&nbsp;..&nbsp;1.0;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;a&nbsp;subtype&nbsp;with&nbsp;a&nbsp;smaller&nbsp;range</I></SPAN></div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-5-6.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-5-8.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
