<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>User-Defined Iterator Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert4 {text-decoration: underline; color: rgb(153,0,0) }
    SPAN.delete4 {text-decoration: line-through; color: rgb(153,0,0) }
    SPAN.insert5 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete5 {text-decoration: line-through; color: rgb(0,102,0) }
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.8em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 4.0em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.Indented4Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 9.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Indented4Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 9.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.WideHanging-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 7.8em; margin-top: 0em; margin-bottom: 0.6em}
    DIV.WideHanging-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,51,153)"><B>Annotated</B></SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)"><B>&nbsp;Ada Reference Manual</B> (Ada 2022 Draft 35)</SPAN> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-5-5.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-5-5-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>5.5.1 User-Defined Iterator Types</H1>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p1">1/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0139-2.TXT">AI05-0139-2</A></I>} 
The following language-defined generic library package exists:&nbsp;</div>
<div class="paranum"><a name="p2">2/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0241-1.TXT">AI12-0241-1</A></I>} 
<A NAME="I3896"></A><B>generic</B><BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Cursor;<BR>
&nbsp;&nbsp;&nbsp;<B>with&nbsp;function</B>&nbsp;Has_Element&nbsp;(Position&nbsp;:&nbsp;Cursor)&nbsp;<B>return</B>&nbsp;Boolean;<BR>
<B>package</B>&nbsp;Ada.Iterator_Interfaces<span class="delete5">&nbsp;<B>is</B></span><BR>
&nbsp;&nbsp;&nbsp;<span class="insert5"><B>with</B>&nbsp;Pure,&nbsp;Nonblocking&nbsp;=&gt;&nbsp;False&nbsp;<B>is</B></span><span class="delete5"><B>&nbsp;pragma</B>&nbsp;Pure&nbsp;(Iterator_Interfaces);</span></div>
<div class="paranum"><a name="p3">3/3</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;<A NAME="I3897"></A>Forward_Iterator&nbsp;<B>is&nbsp;limited&nbsp;interface</B>;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I3898"></A>First&nbsp;(Object&nbsp;:&nbsp;Forward_Iterator)&nbsp;<B>return</B>&nbsp;Cursor&nbsp;<B>is&nbsp;abstract</B>;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I3899"></A>Next&nbsp;(Object&nbsp;:&nbsp;Forward_Iterator;&nbsp;Position&nbsp;:&nbsp;Cursor)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Cursor&nbsp;<B>is&nbsp;abstract</B>;</div>
<div class="paranum"><a name="p4">4/3</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;<A NAME="I3900"></A>Reversible_Iterator&nbsp;<B>is&nbsp;limited&nbsp;interface&nbsp;and</B>&nbsp;Forward_Iterator;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I3901"></A>Last&nbsp;(Object&nbsp;:&nbsp;Reversible_Iterator)&nbsp;<B>return</B>&nbsp;Cursor&nbsp;<B>is&nbsp;abstract</B>;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I3902"></A>Previous&nbsp;(Object&nbsp;:&nbsp;Reversible_Iterator;&nbsp;Position&nbsp;:&nbsp;Cursor)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Cursor&nbsp;<B>is&nbsp;abstract</B>;</div>
<div class="paranum"><a name="p4.1">4.1/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
<span class="insert5">&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;<A NAME="I3903"></A>Parallel_Iterator&nbsp;<B>is&nbsp;limited&nbsp;interface&nbsp;and</B>&nbsp;Forward_Iterator;</span></div>
<div class="paranum"><a name="p4.2">4.2/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
<span class="insert5">&nbsp;&nbsp;&nbsp;<B>subtype</B>&nbsp;<A NAME="I3904"></A>Chunk_Index&nbsp;<B>is</B>&nbsp;Positive;</span></div>
<div class="paranum"><a name="p4.3">4.3/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
<span class="insert5">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I3905"></A>Is_Split&nbsp;(Object&nbsp;:&nbsp;Parallel_Iterator)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Boolean&nbsp;<B>is&nbsp;abstract</B>;</span></div>
<div class="paranum"><a name="p4.4">4.4/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
<span class="insert5">&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;<A NAME="I3906"></A>Split_Into_Chunks&nbsp;(Object&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Parallel_Iterator;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Max_Chunks&nbsp;:&nbsp;<B>in</B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk_Index)&nbsp;<B>is&nbsp;abstract</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Pre'Class&nbsp;&nbsp;&nbsp;=&gt;&nbsp;<B>not</B>&nbsp;Object.Is_Split&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;Program_Error,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Post'Class&nbsp;&nbsp;=&gt;&nbsp;Object.Is_Split&nbsp;<B>and&nbsp;then</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object.Chunk_Count&nbsp;&lt;=&nbsp;Max_Chunks;</span></div>
<div class="paranum"><a name="p4.5">4.5/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
<span class="insert5">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I3907"></A>Chunk_Count&nbsp;(Object&nbsp;:&nbsp;Parallel_Iterator)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Chunk_Index&nbsp;<B>is&nbsp;abstract</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Pre'Class&nbsp;&nbsp;&nbsp;=&gt;&nbsp;Object.Is_Split&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;Program_Error;</span></div>
<div class="paranum"><a name="p4.6">4.6/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
<span class="insert5">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I3908"></A>First&nbsp;(Object&nbsp;:&nbsp;Parallel_Iterator;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk&nbsp;&nbsp;:&nbsp;Chunk_Index)&nbsp;<B>return</B>&nbsp;Cursor&nbsp;<B>is&nbsp;abstract</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Pre'Class&nbsp;&nbsp;&nbsp;=&gt;&nbsp;(Object.Is_Split&nbsp;<B>and&nbsp;then</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk&nbsp;&lt;=&nbsp;Object.Chunk_Count)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;Program_Error;</span></div>
<div class="paranum"><a name="p4.7">4.7/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
<span class="insert5">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I3909"></A>Next&nbsp;(Object&nbsp;&nbsp;&nbsp;:&nbsp;Parallel_Iterator;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;:&nbsp;Cursor;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Chunk_Index)&nbsp;<B>return</B>&nbsp;Cursor&nbsp;<B>is&nbsp;abstract</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Pre'Class&nbsp;&nbsp;&nbsp;=&gt;&nbsp;(Object.Is_Split&nbsp;<B>and&nbsp;then</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chunk&nbsp;&lt;=&nbsp;Object.Chunk_Count)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;Program_Error;</span></div>
<div class="paranum"><a name="p4.8">4.8/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
<span class="insert5">&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;<A NAME="I3910"></A>Parallel_Reversible_Iterator&nbsp;<B>is&nbsp;limited&nbsp;interface</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>and</B>&nbsp;Parallel_Iterator&nbsp;<B>and</B>&nbsp;Reversible_Iterator;</span></div>
<div class="paranum"><a name="p5">5/3</a></div>
<div class="Examples"><B>end</B>&nbsp;Ada.Iterator_Interfaces;</div>
<div class="paranum"><a name="p5.a">5.a/5</a></div>
<div class="Annotations"><span class="insert5"><B>Reason:&nbsp;</B></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0241-1.TXT">AI12-0241-1</A></I>} 
<span class="insert5">This package must allow blocking (Nonblocking =&gt; 
False) for compatibility. The purpose of this package is to provide a 
template for overriding user-defined routines; and such routines can 
only allow blocking if the root type does so. Users can still declare 
their overridding routines nonblocking if they wish.</span>&nbsp;</div>
<div class="paranum"><a name="p6">6/5</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0139-2.TXT">AI05-0139-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
An <I>iterator type</I> is a type descended from the Forward_Iterator 
interface from some instance of Ada.Iterator_Interfaces.<A NAME="I3911"></A> 
A <I>reversible iterator type</I> is a type descended from the Reversible_Iterator 
interface from some instance of Ada.Iterator_Interfaces.<A NAME="I3912"></A> 
<span class="insert5">A <I>parallel iterator type</I><A NAME="I3913"></A> 
is a type descended from the Parallel_Iterator interface from some instance 
of Ada.Iterator_Interfaces. A type descended from the Parallel_Reversible_Iterator 
interface from some instance of Ada.Iterator_Interfaces is both a parallel 
iterator type and a reversible iterator type.&nbsp;</span>An <I>iterator object</I> 
is an object of an iterator type.<A NAME="I3914"></A> A <I>reversible 
iterator object</I> is an object of a reversible iterator type.<A NAME="I3915"></A> 
<span class="insert5">A <I>parallel iterator object</I> is an object 
of a parallel iterator type.<A NAME="I3916"></A>&nbsp;</span>The formal subtype 
Cursor from the associated instance of Ada.Iterator_Interfaces is the 
<I>iteration cursor subtype</I> for the iterator type.<A NAME="I3917"></A></div>
<div class="paranum"><a name="p7">7/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0139-2.TXT">AI05-0139-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0292-1.TXT">AI05-0292-1</A></I>} 
The following type-related operational aspects may be specified for an 
indexable container type <I>T</I> (see <A HREF="AA-4-1-6.html">4.1.6</A>):</div>
<div class="paranum"><a name="p8">8/5</a></div>
<div class="WideHanging-Term">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0111-1.TXT">AI12-0111-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0428-1.TXT">AI12-0428-1</A></I>} 
Default_Iterator</div><div class="WideHanging-Body"><br clear="left">
This aspect is specified by a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
that denotes exactly one function declared immediately within the same 
declaration list in which <I>T</I><span class="insert5">, or the declaration 
completed by <I>T</I>,</span> is declared, whose first parameter is of 
type <I>T</I> or <I>T</I>'Class or an access parameter whose designated 
type is type <I>T</I> or <I>T</I>'Class, whose other parameters, if any, 
have default expressions, and whose result type is an iterator type. 
This function is the <I>default iterator function</I> for <I>T</I>.<A NAME="I3918"></A> 
Its result subtype is the <I>default iterator subtype</I> for <I>T</I>.<A NAME="I3919"></A> 
The iteration cursor subtype for the default iterator subtype is the 
<I>default cursor subtype</I> for <I>T</I>.<A NAME="I3920"></A><A NAME="I3921"></A><A NAME="I3922"></A><span class="insert5">&nbsp;This aspect is inherited by descendants of type <I>T</I> (including <I>T</I>'Class).</span></div>
<div class="paranum"><a name="p8.a">8.a/3</a></div>
<div class="Annotations"><B>Aspect Description for&nbsp;</B><B>Default_Iterator: 
</B>Default iterator to be used in <B>for</B> loops.</div>
<div class="paranum"><a name="p9">9/5</a></div>
<div class="WideHanging-Term">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0111-1.TXT">AI12-0111-1</A></I>} 
Iterator_Element</div><div class="WideHanging-Body"><br clear="left">
This aspect is specified by a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
that denotes a subtype. This is the <I>default element subtype</I> for 
<I>T</I>.<A NAME="I3923"></A><A NAME="I3924"></A><A NAME="I3925"></A><span class="insert5">&nbsp;This aspect is inherited by descendants of type <I>T</I> (including <I>T</I>'Class).</span></div>
<div class="paranum"><a name="p9.a">9.a/3</a></div>
<div class="Annotations"><B>Aspect Description for&nbsp;</B><B>Iterator_Element: 
</B>Element type to be used for user-defined iterators.</div>
<div class="paranum"><a name="p9.1">9.1/5</a></div>
<div class="WideHanging-Term" style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0111-1.TXT">AI12-0111-1</A></I>} 
<span class="insert5">Iterator_View</span></div><div class="WideHanging-Body"><br clear="left">
<span class="insert5">This aspect is specified by a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
that denotes a type <I>T2</I> with the following properties:<A NAME="I3926"></A><A NAME="I3927"></A></span></div>
<div class="paranum"><a name="p9.2">9.2/5</a></div>
<div class="Indented4Bulleted"><span class="insert5"><I>T2</I> is declared 
in the same compilation unit as <I>T</I>;</span></div>
<div class="paranum"><a name="p9.3">9.3/5</a></div>
<div class="Indented4Bulleted"><span class="insert5"><I>T2</I> is an 
iterable container type;</span></div>
<div class="paranum"><a name="p9.4">9.4/5</a></div>
<div class="Indented4Bulleted"><span class="insert5"><I>T2</I> has a 
single discriminant which is an access discriminant designating <I>T</I>; 
and</span></div>
<div class="paranum"><a name="p9.5">9.5/5</a></div>
<div class="Indented4Bulleted"><span class="insert5">The default iterator 
subtypes for <I>T</I> and <I>T2</I> statically match.</span>&nbsp;</div>
<div class="paranum"><a name="p9.6">9.6/5</a></div>
<div class="WideHanging-Body"><span class="insert5">This aspect is never 
inherited[, even by <I>T</I>'Class].</span></div>
<div class="paranum"><a name="p9.b">9.b/5</a></div>
<div class="Annotations"><span class="insert5"><B>Reason:&nbsp;</B>Iterator_View 
allows specifying an alternative type to be automatically used by container 
element iterators; see <A HREF="AA-5-5-2.html">5.5.2</A>. This allows 
setting state for an iteration only once rather than for each individual 
reference.</span>&nbsp;</div>
<div class="paranum"><a name="p9.c">9.c/5</a></div>
<div class="Annotations"><span class="insert5"><B>Ramification:&nbsp;</B>Since 
Iterator_View is not inherited, it does not apply to <I>T</I>'Class. 
Otherwise, the type of the iterator object would not be known at compile-time 
(since it necessarily has to be different for each descendant).</span> 
</div>
<div class="paranum"><a name="p9.d">9.d/5</a></div>
<div class="Annotations"><span class="insert5"><B>Aspect Description 
for&nbsp;</B></span><span class="insert5"><B>Iterator_View:&nbsp;</B></span><span class="insert5">An 
alternative type to used for container element iterators.</span></div>
<div class="paranum"><a name="p10">10/5</a></div>
<div class="Normal"><SPAN STYLE="font-size: 80%"><I>This paragraph was 
deleted.</I></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0111-1.TXT">AI12-0111-1</A></I>} 
<span class="delete5">These aspects are inherited by descendants of type 
<I>T</I> (including <I>T</I>'Class).</span></div>
<div class="paranum"><a name="p11">11/5</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0139-2.TXT">AI05-0139-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0292-1.TXT">AI05-0292-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
An <I>iterable container type</I> is an indexable container type with 
specified Default_Iterator and Iterator_Element aspects.<A NAME="I3928"></A> 
A <I>reversible iterable container type</I> is an iterable container 
type with the default iterator type being a reversible iterator type.<A NAME="I3929"></A> 
<span class="insert5">A <I>parallel iterable container type</I> is an 
iterable container type with the default iterator type being a parallel 
iterator type.<A NAME="I3930"></A>&nbsp;</span>An <I>iterable container object</I> 
is an object of an iterable container type.<A NAME="I3931"></A> A <I>reversible 
iterable container object</I> is an object of a reversible iterable container 
type.<A NAME="I3932"></A><span class="insert5">&nbsp;A <I>parallel iterable 
container object</I> is an object of a parallel iterable container type.<A NAME="I3933"></A></span></div>
<div class="paranum"><a name="p11.a">11.a/5</a></div>
<div class="Annotations"><span class="insert5"><B>Term entry:&nbsp;</B><B>iterable 
container type</B> &mdash; type that has user-defined behavior for iteration, 
via the Default_Iterator and Iterator_Element aspects</span></div>
<div class="paranum"><a name="p11.1">11.1/4</a></div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0138-1.TXT">AI12-0138-1</A></I>} 
<span class="insert4">The Default_Iterator and Iterator_Element aspects 
are nonoverridable (see <A HREF="AA-13-1-1.html">13.1.1</A>). <A NAME="I3934"></A><A NAME="I3935"></A></span></div>
<div class="paranum"><a name="p11.b">11.b/4</a></div>
<div class="Annotations"><span class="insert4"><B>Reason:&nbsp;</B>This ensures 
that all descendants of an iterable container type have aspects with 
the same properties. This prevents generic contract problems with formal 
derived types.</span>&nbsp;</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p12">12/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0139-2.TXT">AI05-0139-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0292-1.TXT">AI05-0292-1</A></I>} 
The Constant_Indexing aspect (if any) of an iterable container type <I>T</I> 
shall denote exactly one function with the following properties:</div>
<div class="paranum"><a name="p13">13/3</a></div>
<div class="Bulleted">the result type of the function is covered by the 
default element type of <I>T</I> or is a reference type (see <A HREF="AA-4-1-5.html">4.1.5</A>) 
with an access discriminant designating a type covered by the default 
element type of <I>T</I>;</div>
<div class="paranum"><a name="p14">14/3</a></div>
<div class="Bulleted">the type of the second parameter of the function 
covers the default cursor type for <I>T</I>;</div>
<div class="paranum"><a name="p15">15/3</a></div>
<div class="Bulleted">if there are more than two parameters, the additional 
parameters all have default expressions.</div>
<div class="paranum"><a name="p16">16/3</a></div>
<div class="Normal">This function (if any) is the <I>default constant 
indexing function</I> for <I>T</I>.<A NAME="I3936"></A></div>
<div class="paranum"><a name="p16.a">16.a/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>This does not mean that 
Constant_Indexing has to designate only one subprogram, only that there 
is only one routine that meets all of these properties. There can be 
other routines designated by Constant_Indexing, but they cannot have 
the profile described above. For instance, map containers have a version 
of Constant_Indexing that takes a key instead of a cursor; this is allowed. 
</div>
<div class="paranum"><a name="p17">17/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0139-2.TXT">AI05-0139-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0292-1.TXT">AI05-0292-1</A></I>} 
The Variable_Indexing aspect (if any) of an iterable container type <I>T</I> 
shall denote exactly one function with the following properties:</div>
<div class="paranum"><a name="p18">18/3</a></div>
<div class="Bulleted">the result type of the function is a reference 
type (see <A HREF="AA-4-1-5.html">4.1.5</A>) with an access discriminant 
designating a type covered by the default element type of <I>T</I>;</div>
<div class="paranum"><a name="p19">19/3</a></div>
<div class="Bulleted">the type of the second parameter of the function 
covers the default cursor type for <I>T</I>;</div>
<div class="paranum"><a name="p20">20/3</a></div>
<div class="Bulleted">if there are more than two parameters, the additional 
parameters all have default expressions.</div>
<div class="paranum"><a name="p21">21/3</a></div>
<div class="Normal">This function (if any) is the <I>default variable 
indexing function</I> for <I>T</I>.<A NAME="I3937"></A></div>

<H4 Class="centered">Erroneous Execution</H4>
<div class="paranum"><a name="p22">22/5</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0354-1.TXT">AI12-0354-1</A></I>} 
<span class="insert5">A call on the First or Next operation on a given 
Parallel_Iterator object with a given Chunk value, which does not propagate 
an exception, should return a Cursor value that either yields False when 
passed to Has_Element, or that identifies an element distinct from any 
Cursor value returned by a call on a First or Next operation on the same 
Parallel_Iterator object with a different Chunk value. If the First or 
Next operations with a Chunk parameter behave in any other manner, execution 
is erroneous.</span>&nbsp;</div>
<div class="paranum"><a name="p22.a">22.a/5</a></div>
<div class="Annotations"><span class="insert5"><B>Reason:&nbsp;</B>This describes 
the expectations from a user-written parallel iterator. If the expectations 
are not met, execution is erroneous so that implementations do not need 
to go to heroic efforts to avoid problems caused by bad iterators. This 
is similar to the handling of storage pools, see <A HREF="AA-13-11.html">13.11</A>.</span> 
</div>

<H4 Class="centered">Extensions to Ada 2005</H4>
<div class="paranum"><a name="p22.b">22.b/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0139-2.TXT">AI05-0139-2</A></I>} 
<A NAME="I3938"></A>User-defined iterator types are new in Ada 2012. 
</div>

<H4 Class="centered">Incompatibilities With Ada 2012</H4>
<div class="paranum"><a name="p22.c">22.c/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0138-1.TXT">AI12-0138-1</A></I>} 
<span class="insert4"><A NAME="I3939"></A><B>Corrigendum:</B> Defined 
Default_Iterator and Iterator_Element to be nonoveridable, which makes 
redefinitions and hiding of these aspects illegal. It's possible that 
some program could violate one of these new restrictions, but in most 
cases this can easily be worked around by using overriding rather than 
redefinition.</span></div>
<div class="paranum"><a name="p22.d">22.d/5</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
<span class="insert5">Various new types and subprograms are newly added 
to Ada.Iterator_Interfaces. Therefore, a use clause conflict is possible; 
see the introduction of <A HREF="AA-A.html">Annex A</A> for more on this 
topic.</span>&nbsp;</div>

<H4 Class="centered">Extensions to Ada 2012</H4>
<div class="paranum"><a name="p22.e">22.e/5</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0111-1.TXT">AI12-0111-1</A></I>} 
<span class="insert5"><A NAME="I3940"></A>Aspect Iterator_View is new; 
it allows container element iterators to set the tampering state once 
rather than for each use of the element.</span></div>
<div class="paranum"><a name="p22.f">22.f/5</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0266-1.TXT">AI12-0266-1</A></I>} 
<span class="insert5"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0354-1.TXT">AI12-0354-1</A></I>} 
<span class="insert5">Parallel iterator interfaces are new; they allow 
user-defined parallel loops to be defined.</span>&nbsp;</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-5-5.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-5-5-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
