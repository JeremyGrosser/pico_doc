<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Default Initial Conditions</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 4.3em; margin-bottom: 0.6em}
    DIV.WideHanging-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 7.8em; margin-top: 0em; margin-bottom: 0.6em}
    DIV.WideHanging-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B> (Ada 2022 Draft 35)</SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-7-3-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-7-3-4.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>7.3.3 Default Initial Conditions</H1>
<div class="paranum"><a name="p1">1/5</a></div>
<div class="Normal" style="margin-bottom: 0.4em">For a private type 
or private extension (including a generic formal type), the following 
language-defined assertion aspect may be specified with an <SPAN Class="swiss"><A HREF="RM-13-1-1.html#S0346">aspect_specification</A></SPAN> 
(see <A HREF="RM-13-1-1.html">13.1.1</A>):</div>
<div class="paranum"><a name="p2">2/5</a></div>
<div class="WideHanging-Term">Default_Initial_Condition</div><div class="WideHanging-Body"><br clear="left">
This aspect shall be specified by an <SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN>, 
called a <I>default initial condition expression</I>. Default_Initial_Condition 
may be specified on a <SPAN Class="swiss"><A HREF="RM-7-3.html#S0232">private_type_declaration</A></SPAN>, 
a <SPAN Class="swiss"><A HREF="RM-7-3.html#S0233">private_extension_declaration</A></SPAN>, 
a <SPAN Class="swiss"><A HREF="RM-12-5-1.html#S0324">formal_private_type_definition</A></SPAN>, 
or a <SPAN Class="swiss"><A HREF="RM-12-5-1.html#S0325">formal_derived_type_definition</A></SPAN>. 
<A NAME="I4095"></A><A NAME="I4096"></A><A NAME="I4097"></A>The Default_Initial_Condition 
aspect is not inherited, but its effects are additive, as defined below.</div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum"><a name="p3">3/5</a></div>
<div class="Normal">The expected type for a default initial condition 
expression is any boolean type.</div>
<div class="paranum"><a name="p4">4/5</a></div>
<div class="Normal">Within a default initial condition expression associated 
with a declaration for a type T, a name that denotes the declaration 
is interpreted as a current instance of a notional (nonabstract) formal 
derived type NT with ancestor T, that has directly visible primitive 
operations.</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p5">5/5</a></div>
<div class="Normal">The Default_Initial_Condition aspect shall not be 
specified for a type whose partial view has unknown discriminants, whether 
explicitly declared or inherited.</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p6">6/5</a></div>
<div class="Normal">If the Default_Initial_Condition aspect is specified 
for a type T, then the default initial condition expression applies to 
T and to all descendants of T.</div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum"><a name="p7">7/5</a></div>
<div class="Normal">If one or more default initial condition expressions 
apply to a (nonabstract) type T, then a default initial condition check 
is performed after successful initialization of an object of type T by 
default (see <A HREF="RM-3-3-1.html">3.3.1</A>). In the case of a controlled 
type, the check is performed after the call to the type's Initialize 
procedure (see <A HREF="RM-7-6.html">7.6</A>).</div>
<div class="paranum"><a name="p8">8/5</a></div>
<div class="Normal">If performing checks is required by the Default_Initial_Condition 
assertion policy (see <A HREF="RM-11-4-2.html">11.4.2</A>) in effect 
at the point of the corresponding <SPAN Class="swiss"><A HREF="RM-13-1-1.html#S0346">aspect_specification</A></SPAN> 
applicable to a given type, then the respective default initial condition 
expression is considered enabled.</div>
<div class="paranum"><a name="p9">9/5</a></div>
<div class="Normal">The default initial condition check consists of the 
evaluation of each enabled default initial condition expression that 
applies to T. Any operations within such an expression that were resolved 
as primitive operations of the (notional) formal derived type NT, are 
in the evaluation of the expression resolved as for a formal derived 
type in an instance with T as the actual type for NT (see <A HREF="RM-12-5-1.html">12.5.1</A>). 
These evaluations, if there are more than one, are performed in an arbitrary 
order. If any of these evaluate to False, Assertions.Assertion_Error 
is raised at the point of the object initialization.<A NAME="I4098"></A><A NAME="I4099"></A><A NAME="I4100"></A></div>
<div class="paranum"><a name="p10">10/5</a></div>
<div class="Normal">For a generic formal type T, default initial condition 
checks performed are as determined by the actual type, along with any 
default initial condition of the formal type itself.</div>

<H4 Class="centered">Implementation Permissions</H4>
<div class="paranum"><a name="p11">11/5</a></div>
<div class="Normal">Implementations may extend the syntax or semantics 
of the Default_Initial_Condition aspect in an implementation-defined 
manner.</div>
<div class="paranum"><a name="p12">12/5</a></div>
<div class="Notes">NOTE&nbsp;&nbsp;&nbsp;For an example of the use of 
this aspect, see the Vector container definition in <A HREF="RM-A-18-2.html">A.18.2</A>. 
</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-7-3-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-7-3-4.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
