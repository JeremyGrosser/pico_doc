<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Quantified Expressions</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert4 {text-decoration: underline; color: rgb(153,0,0) }
    SPAN.delete4 {text-decoration: line-through; color: rgb(153,0,0) }
    SPAN.insert5 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete5 {text-decoration: line-through; color: rgb(0,102,0) }
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.Indented1 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.8em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 4.0em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,51,153)"><B>Annotated</B></SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)"><B>&nbsp;Ada Reference Manual</B> (Ada 2022 Draft 35)</SPAN> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-4-5-7.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-4-5-9.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>4.5.8 Quantified Expressions</H1>
<div class="paranum"><a name="p0.1">0.1/4</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0158-1.TXT">AI12-0158-1</A></I>} 
<span class="insert4">Quantified expressions provide a way to write universally 
and existentially quantified predicates over containers and arrays.<A NAME="I3452"></A><A NAME="I3453"></A></span> 
</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p1">1/3</a></div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
<SPAN Class="swiss">quantified_expression</SPAN><A NAME="I3454"></A><A NAME="S0153"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>for</B>&nbsp;<A NAME="I3455"></A><SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0154">quantifier</A></SPAN>&nbsp;<A NAME="I3456"></A><SPAN Class="swiss"><A HREF="AA-5-5.html#S0181">loop_parameter_specification</A></SPAN>&nbsp;=&gt;&nbsp;<A NAME="I3457"></A><SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0155">predicate</A></SPAN><BR>
&nbsp;&nbsp;|&nbsp;<B>for</B>&nbsp;<A NAME="I3458"></A><SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0154">quantifier</A></SPAN>&nbsp;<A NAME="I3459"></A><SPAN Class="swiss"><A HREF="AA-5-5-2.html#S0183">iterator_specification</A></SPAN>&nbsp;=&gt;&nbsp;<A NAME="I3460"></A><SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0155">predicate</A></SPAN></div>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Indented1"><SPAN Class="swiss">quantifier</SPAN><A NAME="I3461"></A><A NAME="S0154"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><B>all</B>&nbsp;|&nbsp;<B>some</B></div>
<div class="paranum"><a name="p3">3/3</a></div>
<div class="Indented1"><SPAN Class="swiss">predicate</SPAN><A NAME="I3462"></A><A NAME="S0155"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><I>boolean_</I><A NAME="I3463"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN></div>
<div class="paranum"><a name="p4">4/3</a></div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
Wherever the Syntax Rules allow an <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN>, 
a <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN> 
may be used in place of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN>, 
so long as it is immediately surrounded by parentheses.</div>
<div class="paranum"><a name="p4.a">4.a/3</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>The syntactic category <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN> 
appears only as a <SPAN Class="swiss"><A HREF="AA-4-4.html#S0141">primary</A></SPAN> 
that is parenthesized. The above rule allows it to additionally be used 
in other contexts where it would be directly surrounded by parentheses. 
This is the same rule that is used for <SPAN Class="swiss"><A HREF="AA-4-5-7.html#S0148">conditional_expression</A></SPAN>s; 
see <A HREF="AA-4-5-7.html">4.5.7</A> for a detailed discussion of the 
meaning and effects of this rule.&nbsp;</div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum"><a name="p5">5/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
<A NAME="I3464"></A>The expected type of a <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN> 
is any Boolean type. The <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0155">predicate</A></SPAN> 
in a <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN> 
is expected to be of the same type.&nbsp;</div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum"><a name="p6">6/5</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0158-1.TXT">AI12-0158-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0327-1.TXT">AI12-0327-1</A></I>} 
For the evaluation of a <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN>, 
the <SPAN Class="swiss"><A HREF="AA-5-5.html#S0181">loop_parameter_specification</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-5-5-2.html#S0183">iterator_specification</A></SPAN> 
is first elaborated. The evaluation of a <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN> 
then <span class="insert5">performs an iteration, and&nbsp;</span>evaluates 
the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0155">predicate</A></SPAN> 
for <span class="insert5">each value conditionally produced by the iteration</span><span class="delete5"></span><span class="insert4"><span class="delete5">&nbsp;the 
values</span></span><span class="delete5"></span><span class="delete4">&nbsp;each 
value</span><span class="delete5">&nbsp;of the loop parameter</span><span class="delete4">. 
These values are examined</span><span class="delete5">&nbsp;in the order specified 
by the <SPAN Class="swiss"><A HREF="AA-5-5.html#S0181">loop_parameter_specification</A></SPAN></span> 
(see <A HREF="AA-5-5.html">5.5</A><span class="insert5">&nbsp;and</span><span class="delete5">) 
or <SPAN Class="swiss"><A HREF="AA-5-5-2.html#S0183">iterator_specification</A></SPAN> 
(see</span> <A HREF="AA-5-5-2.html">5.5.2</A>).<A NAME="I3465"></A></div>
<div class="paranum"><a name="p6.a">6.a/5</a></div>
<div class="Annotations"><span class="insert5"><B>Ramification:&nbsp;</B></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0327-1.TXT">AI12-0327-1</A></I>} 
<span class="insert5">The order of evaluation of the predicates is that 
in which the values are produced, as specified in <A HREF="AA-5-5.html">5.5</A> 
or <A HREF="AA-5-5-2.html">5.5.2</A>.</span>&nbsp;</div>
<div class="paranum"><a name="p7">7/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
The value of the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN> 
is determined as follows:</div>
<div class="paranum"><a name="p8">8/4</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0158-1.TXT">AI12-0158-1</A></I>} 
If the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0154">quantifier</A></SPAN> 
is <B>all</B>, the expression is <span class="insert4">False</span><span class="delete4">&nbsp;True</span> 
if the evaluation of <span class="insert4">any</span><span class="delete4">&nbsp;the</span> 
<SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0155">predicate</A></SPAN> 
yields <span class="insert4">False; evaluation of the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN> 
stops at that point. Otherwise (every predicate has been evaluated and 
yielded True), the expression is True</span><span class="delete4">&nbsp;True 
for each value of the loop parameter. It is False otherwise. Evaluation 
of the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN> 
stops when all values of the domain have been examined, or when the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0155">predicate</A></SPAN> 
yields False for a given value</span>. Any exception raised by evaluation 
of the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0155">predicate</A></SPAN> 
is propagated.</div>
<div class="paranum"><a name="p8.a">8.a/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>The <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN> 
is True if the domain contains no values.&nbsp;</div>
<div class="paranum"><a name="p9">9/4</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0158-1.TXT">AI12-0158-1</A></I>} 
If the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0154">quantifier</A></SPAN> 
is <B>some</B>, the expression is True if the evaluation of <span class="insert4">any</span><span class="delete4">&nbsp;the</span> 
<SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0155">predicate</A></SPAN> 
yields True<span class="insert4">; evaluation of the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN> 
stops at that point. Otherwise (every predicate has been evaluated and 
yielded False), the expression is False</span><span class="delete4">&nbsp;for some value of the loop parameter. It is False otherwise. Evaluation 
of the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0153">quantified_expression</A></SPAN> 
stops when all values of the domain have been examined, or when the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0155">predicate</A></SPAN> 
yields True for a given value</span>. Any exception raised by evaluation 
of the <SPAN Class="swiss"><A HREF="AA-4-5-8.html#S0155">predicate</A></SPAN> 
is propagated.</div>
<div class="paranum"><a name="p9.a">9.a/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>The <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN> 
is False if the domain contains no values.&nbsp;</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p10">10/5</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0429-1.TXT">AI12-0429-1</A></I>} 
<span class="insert5"><I>Example of a quantified expression as a postcondition 
for a sorting routine on an array A with an index subtype T:</I></span><span class="delete5">&nbsp;The 
postcondition for a sorting routine on an array A with an index subtype 
T can be written:</span></div>
<div class="paranum"><a name="p11">11/3</a></div>
<div class="Examples">Post&nbsp;=&gt;&nbsp;(A'Length&nbsp;&lt;&nbsp;2&nbsp;<B>or&nbsp;else</B><BR>
&nbsp;&nbsp;&nbsp;(<B>for&nbsp;all</B>&nbsp;I&nbsp;<B>in</B>&nbsp;A'First&nbsp;..&nbsp;T'Pred(A'Last)&nbsp;=&gt;&nbsp;A&nbsp;(I)&nbsp;&lt;=&nbsp;A&nbsp;(T'Succ&nbsp;(I))))</div>
<div class="paranum"><a name="p12">12/5</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0429-1.TXT">AI12-0429-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0430-1.TXT">AI12-0430-1</A></I>} 
<span class="insert5"><I>Example of use of a quantified expression as 
an assertion that a positive number N is composite (as opposed to prime):</I></span><span class="delete5">&nbsp;The 
assertion that a positive number is composite (as opposed to prime) can 
be written:</span></div>
<div class="paranum"><a name="p13">13/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0312-1.TXT">AI12-0312-1</A></I>} 
<B>pragma</B>&nbsp;Assert&nbsp;(<B>for&nbsp;some</B>&nbsp;X&nbsp;<B>in</B>&nbsp;2&nbsp;..&nbsp;N&nbsp;<span class="insert5"><B>when</B>&nbsp;X&nbsp;*&nbsp;X&nbsp;&lt;=&nbsp;N</span><span class="delete5">&nbsp;/&nbsp;2</span>&nbsp;=&gt;&nbsp;N&nbsp;<B>mod</B>&nbsp;X&nbsp;=&nbsp;0);<span class="insert5"><BR>
&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;</I></SPAN><SPAN Class="swiss"><A HREF="AA-5-5.html#S0182">iterator_filter</A></SPAN><SPAN Class="roman"><I>&nbsp;in&nbsp;<A HREF="AA-5-5.html">5.5</A></I></SPAN></span></div>

<H4 Class="centered">Extensions to Ada 2005</H4>
<div class="paranum"><a name="p13.a">13.a/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
<A NAME="I3466"></A>Quantified expressions are new.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 2012</H4>
<div class="paranum"><a name="p13.b">13.b/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0158-1.TXT">AI12-0158-1</A></I>} 
<span class="insert4"><B>Corrigendum:</B> Revised the wording to make 
it clear that the semantics is short-circuited, and what the result is 
when there are no values for the loop parameter.</span>&nbsp;</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-4-5-7.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-4-5-9.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
