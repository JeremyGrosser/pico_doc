<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>The Ravenscar and Jorvik Profiles</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert4 {text-decoration: underline; color: rgb(153,0,0) }
    SPAN.delete4 {text-decoration: line-through; color: rgb(153,0,0) }
    SPAN.insert5 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete5 {text-decoration: line-through; color: rgb(0,102,0) }
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 4.3em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.8em; margin-bottom: 0.6em}
    DIV.SmallIndented3 {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 9.3em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 4.0em; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,51,153)"><B>Annotated</B></SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)"><B>&nbsp;Ada Reference Manual</B> (Ada 2022 Draft 35)</SPAN> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-D-12.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-D-14.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>D.13 <span class="insert5">The Ravenscar and Jorvik Profiles</span><span class="delete5">The Ravenscar Profile</span></H1>
<div class="paranum"><a name="p1">1/5</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00249.TXT">AI95-00249-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0246-1.TXT">AI05-0246-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0299-1.TXT">AI05-0299-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0291-1.TXT">AI12-0291-1</A></I>} 
[This subclause defines the Ravenscar <span class="insert5">and Jorvik<A NAME="I10002"></A> 
profiles</span><span class="delete5">&nbsp;profile</span>.<A NAME="I10003"></A>] 
</div>
<div class="Normal"><SPAN STYLE="font-size: 80%"><I>Paragraphs 2 and 
3 were moved to <A HREF="AA-13-12.html">13.12</A>, &ldquo;<A HREF="AA-13-12.html">Pragma 
Restrictions and Pragma Profile</A>&rdquo;.</I></SPAN>&nbsp;</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p4">4/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00249.TXT">AI95-00249-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0246-1.TXT">AI05-0246-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0291-1.TXT">AI12-0291-1</A></I>} 
The <I>profile_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
Ravenscar <span class="insert5">and <I>profile_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
Jorvik are</span><span class="delete5">&nbsp;is a</span> usage <span class="insert5">profiles</span><span class="delete5">&nbsp;profile</span> 
(see <A HREF="AA-13-12.html">13.12</A>). For usage <span class="insert5">profiles</span><span class="delete5">&nbsp;profile</span> 
Ravenscar<span class="insert5">&nbsp;and Jorvik</span>, there shall be no 
<I>profile_</I><SPAN Class="swiss"><A HREF="AA-2-8.html#S0020">pragma_argument_association</A></SPAN>s. 
</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p5">5/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00249.TXT">AI95-00249-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0246-1.TXT">AI05-0246-1</A></I>} 
The usage profile Ravenscar is equivalent to the following set of pragmas:</div>
<div class="paranum"><a name="p6">6/4</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00249.TXT">AI95-00249-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00297.TXT">AI95-00297-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0171-1.TXT">AI05-0171-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0246-1.TXT">AI05-0246-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0055-1.TXT">AI12-0055-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0073-1.TXT">AI12-0073-1</A></I>} 
<B>pragma</B>&nbsp;Task_Dispatching_Policy&nbsp;(FIFO_Within_Priorities);<BR>
<B>pragma</B>&nbsp;Locking_Policy&nbsp;(Ceiling_Locking);<BR>
<B>pragma</B>&nbsp;Detect_Blocking;<BR>
<B>pragma</B>&nbsp;Restrictions&nbsp;(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Abort_Statements,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dynamic_Attachment<span class="insert4">,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dynamic_CPU_Assignment</span>,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dynamic_Priorities,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Implicit_Heap_Allocations,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Local_Protected_Objects,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Local_Timing_Events,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Protected_Type_Allocators,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Relative_Delay,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Requeue_Statements,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Select_Statements,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Specific_Termination_Handlers,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Task_Allocators,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Task_Hierarchy,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Task_Termination,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Simple_Barriers,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Max_Entry_Queue_Length&nbsp;=&gt;&nbsp;1,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Max_Protected_Entries&nbsp;=&gt;&nbsp;1,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Max_Task_Entries&nbsp;=&gt;&nbsp;0,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Asynchronous_Task_Control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Calendar,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Execution_Time.Group_Budgets,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Execution_Time.Timers,<span class="insert4"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Synchronous_Barriers,</span><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Task_Attributes,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;System.Multiprocessors.Dispatching_Domains);</div>
<div class="paranum"><a name="p6.a">6.a/3</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>The Ravenscar profile is 
named for the location of the meeting that defined its initial version. 
The name is now in widespread use, so we stick with existing practice, 
rather than using a more descriptive name.</div>
<div class="paranum"><a name="p6.b">6.b/5</a></div>
<div class="Annotations"><span class="insert5">The Jorvik profile is 
named for the city of York, UK, near where the Ravenscar profile was 
created. &quot;Jorvik&quot; (pronounced &quot;Yorvick&quot;) was the 
Viking name for York.</span>&nbsp;</div>
<div class="paranum"><a name="p6.1">6.1/5</a></div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0291-1.TXT">AI12-0291-1</A></I>} 
<span class="insert5">The usage profile Jorvik is equivalent to the following 
set of pragmas:</span></div>
<div class="paranum"><a name="p6.2">6.2/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0291-1.TXT">AI12-0291-1</A></I>} 
<span class="insert5"><BR>
<B>pragma</B>&nbsp;Task_Dispatching_Policy&nbsp;(FIFO_Within_Priorities);<BR>
<B>pragma</B>&nbsp;Locking_Policy&nbsp;(Ceiling_Locking);<BR>
<B>pragma</B>&nbsp;Detect_Blocking;<BR>
<B>pragma</B>&nbsp;Restrictions&nbsp;(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Abort_Statements,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dynamic_Attachment,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dynamic_CPU_Assignment,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dynamic_Priorities,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Local_Protected_Objects,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Local_Timing_Events,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Protected_Type_Allocators,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Requeue_Statements,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Select_Statements,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Specific_Termination_Handlers,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Task_Allocators,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Task_Hierarchy,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Task_Termination,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pure_Barriers,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Max_Task_Entries&nbsp;=&gt;&nbsp;0,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Asynchronous_Task_Control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Execution_Time.Group_Budgets,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Execution_Time.Timers,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Task_Attributes,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;System.Multiprocessors.Dispatching_Domains);</span></div>
<div class="paranum"><a name="p6.c">6.c/5</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><span class="insert5"><B>Discussion: 
</B>The Jorvik profile removes a number of restrictions from the Ravenscar 
profile to allow additional applications to benefit from predictability 
and low overhead. Specifically, the following restrictions are removed:</span> 
</div>
<div class="paranum"><a name="p6.d">6.d/5</a></div>
<div class="SmallIndented3"><span class="insert5">&nbsp;&nbsp;&nbsp;&nbsp;No_Implicit_Heap_Allocations<BR>
&nbsp;&nbsp;&nbsp;&nbsp;No_Relative_Delay<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Max_Entry_Queue_Length&nbsp;=&gt;&nbsp;1<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Max_Protected_Entries&nbsp;=&gt;&nbsp;1<BR>
&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Calendar<BR>
&nbsp;&nbsp;&nbsp;&nbsp;No_Dependence&nbsp;=&gt;&nbsp;Ada.Synchronous_Barriers</span></div>
<div class="paranum"><a name="p6.e">6.e/5</a></div>
<div class="Annotations"><span class="insert5">Jorvik also replaces restriction 
Simple_Barriers with Pure_Barriers (a weaker requirement than Simple_Barriers).</span> 
</div>
<div class="Normal"><SPAN STYLE="font-size: 80%"><I>Paragraph 7</I></SPAN><span class="insert4"><SPAN STYLE="font-size: 80%"><I>&nbsp;and 8 were</I></SPAN></span><SPAN STYLE="font-size: 80%"><I></I></SPAN><span class="delete4"><SPAN STYLE="font-size: 80%"><I>&nbsp;was</I></SPAN></span><SPAN STYLE="font-size: 80%"><I>&nbsp;deleted.</I></SPAN>&nbsp;</div>

<H4 Class="centered">Implementation Requirements</H4>
<div class="paranum"><a name="p8">8/4</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0171-1.TXT">AI05-0171-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0055-1.TXT">AI12-0055-1</A></I>} 
<span class="delete4">A task shall only be on the ready queues of one 
processor, and the processor to which a task belongs shall be defined 
statically. Whenever a task running on a processor reaches a task dispatching 
point, it goes back to the ready queues of the same processor. A task 
with a CPU value of Not_A_Specific_CPU will execute on an implementation 
defined processor. [A task without a CPU aspect will activate and execute 
on the same processor as its activating task.]</span>&nbsp;</div>
<div class="paranum"><a name="p8.a">8.a/4</a></div>
<div class="Annotations"><B>Proof:&nbsp;</B><span class="delete4">The processor 
of a task without a CPU aspect is defined in <A HREF="AA-D-16.html">D.16</A>.</span> 
</div>

<H4 Class="centered">Implementation Advice</H4>
<div class="paranum"><a name="p9">9/5</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0171-1.TXT">AI05-0171-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0291-1.TXT">AI12-0291-1</A></I>} 
On a multiprocessor system, an implementation should support a fully 
partitioned approach<span class="insert5">&nbsp;if one of these profiles is 
specified</span>. Each processor should have separate and disjoint ready 
queues.</div>
<div class="paranum"><a name="p9.a.1">9.a.1/3</a></div>
<div class="Annotations"><B>Implementation Advice:&nbsp;</B>On a multiprocessor 
system, each processor should have a separate and disjoint ready queue.</div>
<div class="paranum"><a name="p10">10/5</a></div>
<div class="Notes">NOTE 1&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00249.TXT">AI95-00249-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0246-1.TXT">AI05-0246-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0291-1.TXT">AI12-0291-1</A></I>} 
<span class="insert5">For the Ravenscar profile, the</span><span class="delete5">&nbsp;The</span> 
effect of the <span class="insert5">restriction&nbsp;</span>Max_Entry_Queue_Length 
=&gt; 1 <span class="delete5">restriction&nbsp;</span>applies only to protected 
entry queues due to the accompanying restriction <span class="delete5">of 
</span>Max_Task_Entries =&gt; 0.<span class="insert5">&nbsp;The restriction 
Max_Entry_Queue_Length is not applied by the Jorvik profile.</span></div>
<div class="paranum"><a name="p11">11/5</a></div>
<div class="Notes">NOTE 2&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0055-1.TXT">AI12-0055-1</A></I>} 
<span class="insert4"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0291-1.TXT">AI12-0291-1</A></I>} 
<span class="insert4">When the Ravenscar&nbsp;</span><span class="insert5">or 
Jorvik&nbsp;</span><span class="insert4">profile is in effect (via the effect 
of the No_Dynamic_CPU_Assignment restriction), all of the tasks in the 
partition will execute on a single CPU unless the programmer explicitly 
uses aspect CPU to specify the CPU assignments for tasks. The use of 
multiple CPUs requires care, as many guarantees of single CPU scheduling 
no longer apply.</span></div>
<div class="paranum"><a name="p12">12/5</a></div>
<div class="Notes">NOTE 3&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0055-1.TXT">AI12-0055-1</A></I>} 
<span class="insert4"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0291-1.TXT">AI12-0291-1</A></I>} 
<span class="insert4">It is not recommended to specify the CPU of a task 
to be Not_A_Specific_CPU when the Ravenscar&nbsp;</span><span class="insert5">or 
Jorvik&nbsp;</span><span class="insert4">profile is in effect. How a partition 
executes strongly depends on the assignment of tasks to CPUs.</span> 
</div>
<div class="paranum"><a name="p13">13/5</a></div>
<div class="Notes">NOTE 4&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0291-1.TXT">AI12-0291-1</A></I>} 
<span class="insert5">Any unit that meets the requirements of the Ravenscar 
profile also meets the requirements of the Jorvik profile.</span>&nbsp;</div>

<H4 Class="centered">Extensions to Ada 95</H4>
<div class="paranum"><a name="p13.a">13.a/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00249.TXT">AI95-00249-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0246-1.TXT">AI05-0246-1</A></I>} 
<A NAME="I10004"></A>The Ravenscar profile is new; it was moved here 
by Ada 2012.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 2005</H4>
<div class="paranum"><a name="p13.b">13.b/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0171-1.TXT">AI05-0171-1</A></I>} 
How Ravenscar behaves on a multiprocessor system is now defined.&nbsp;</div>

<H4 Class="centered">Incompatibilities With Ada 2012</H4>
<div class="paranum"><a name="p13.c">13.c/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0073-1.TXT">AI05-0073-1</A></I>} 
<span class="insert4"><A NAME="I10005"></A><B>Corrigendum:</B> The Ravenscar 
profile no longer allows the use of package Synchronous_Barriers, as 
this package violates the fundamental Ravenscar requirement that each 
waiting point can only block (and release) a single task. This is incompatible 
with the published Ada 2012 standard, but it is unlikely that any existing 
Ravenscar runtime ever usefully supported barriers.</span></div>
<div class="paranum"><a name="p13.d">13.d/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0055-1.TXT">AI05-0055-1</A></I>} 
<span class="insert4"><B>Corrigendum:</B>The Ravenscar profile (via the 
effect of the new restriction No_Dynamic_CPU_Assignment) no longer allows 
setting the CPU aspect of a task to a non-static value. While this was 
allowed, an implementation would have had to come up with a creative 
interpretation of the Ada 2012 requirement to define the association 
of tasks to processors statically. As such, the new check is more likely 
to catch bugs than break a working program.</span>&nbsp;</div>

<H4 Class="centered">Extensions to Ada 2012</H4>
<div class="paranum"><a name="p13.e">13.e/5</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0291-1.TXT">AI12-0291-1</A></I>} 
<span class="insert5"><A NAME="I10006"></A>The Jorvik profile is new.</span> 
</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-D-12.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-D-14.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
