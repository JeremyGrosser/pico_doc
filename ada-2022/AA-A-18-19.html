<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>The Generic Package Containers.Bounded_Vectors</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert5 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete5 {text-decoration: line-through; color: rgb(0,102,0) }
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.Indented2 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.8em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.8em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 4.0em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,51,153)"><B>Annotated</B></SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)"><B>&nbsp;Ada Reference Manual</B> (Ada 2022 Draft 35)</SPAN> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-18-18.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-18-20.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>A.18.19 The Generic Package Containers.Bounded_Vectors</H1>
<div class="paranum"><a name="p1">1/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0001-1.TXT">AI05-0001-1</A></I>} 
The language-defined generic package Containers.Bounded_Vectors<A NAME="I9137"></A> 
provides a private type Vector and a set of operations. It provides the 
same operations as the package Containers.Vectors (see <A HREF="AA-A-18-2.html">A.18.2</A>), 
with the difference that the maximum storage is bounded.&nbsp;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0001-1.TXT">AI05-0001-1</A></I>} 
The declaration of the generic library package Containers.Bounded_Vectors 
has the same contents and semantics as Containers.Vectors except:</div>
<div class="paranum"><a name="p3">3/5</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0112-1.TXT">AI12-0112-1</A></I>} 
The <span class="insert5">aspect</span><span class="delete5"><SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">&nbsp;pragma</A></SPAN></span> 
Preelaborate is replaced with <span class="insert5">aspect</span><span class="delete5"><SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">&nbsp;pragma</A></SPAN></span> 
Pure.<span class="insert5">&nbsp;Aspect Global is deleted.</span></div>
<div class="paranum"><a name="p3.a">3.a/5</a></div>
<div class="Annotations"><span class="insert5"><B>Ramification:&nbsp;</B></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0112-1.TXT">AI12-0112-1</A></I>} 
<span class="insert5">The Global aspect for a Pure package is <B>null</B> 
(see <A HREF="AA-6-1-2.html">6.1.2</A>), so we don't need to give it 
explicitly.</span>&nbsp;</div>
<div class="paranum"><a name="p4">4/3</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">The type Vector is 
declared with a discriminant that specifies the capacity:&nbsp;</div>
<div class="paranum"><a name="p5">5/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0112-1.TXT">AI12-0112-1</A></I>} 
&nbsp;&nbsp;<B>type</B>&nbsp;Vector&nbsp;(Capacity&nbsp;:&nbsp;Count_Type)&nbsp;<B>is&nbsp;tagged&nbsp;private</B><span class="insert5">...</span><span class="delete5">;</span></div>
<div class="paranum"><a name="p5.1">5.1/5</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0409-1.TXT">AI12-0409-1</A></I>} 
<span class="insert5">The <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0348">aspect_definition</A></SPAN> 
for Preelaborable_Initialization for type Vector is changed to:</span> 
</div>
<div class="paranum"><a name="p5.2">5.2/5</a></div>
<div class="Examples"><span class="insert5">&nbsp;&nbsp;Preelaborable_Initialization&nbsp;=&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Element_Type'Preelaborable_Initialization</span></div>
<div class="paranum"><a name="p6">6/3</a></div>
<div class="Bulleted">The type Vector needs finalization if and only 
if type Element_Type needs finalization.</div>
<div class="paranum"><a name="p6.a">6.a/3</a></div>
<div class="Annotations"><B>Implementation Note:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0212-1.TXT">AI05-0212-1</A></I>} 
The type Vector cannot depend on package Ada.Finalization unless the 
element type depends on that package. The objects returned from the Iterator 
and Reference functions probably do depend on package Ada.Finalization. 
Restricted environments may need to avoid use of those functions and 
their associated types.&nbsp;</div>
<div class="paranum"><a name="p6.1">6.1/5</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0112-1.TXT">AI12-0112-1</A></I>} 
<span class="insert5">Capacity is omitted from the Stable_Properties 
of type Vector.</span></div>
<div class="paranum"><a name="p6.b">6.b/5</a></div>
<div class="Annotations"><span class="insert5"><B>Reason:&nbsp;</B>The capacity 
is a discriminant here, so it can't be changed by most routines; thus 
including it in the stable properties adds no information.</span>&nbsp;</div>
<div class="paranum"><a name="p6.2">6.2/5</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0339-1.TXT">AI12-0339-1</A></I>} 
<span class="insert5">In function Empty, the postcondition is altered 
to:</span></div>
<div class="paranum"><a name="p6.3">6.3/5</a></div>
<div class="Examples"><span class="insert5">&nbsp;&nbsp;&nbsp;Post&nbsp;=&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Empty'Result.Capacity&nbsp;=&nbsp;Capacity&nbsp;<B>and&nbsp;then</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>not</B>&nbsp;Tampering_With_Elements_Prohibited&nbsp;(Empty'Result)&nbsp;<B>and&nbsp;then</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>not</B>&nbsp;Tampering_With_Cursors_Prohibited&nbsp;(Empty'Result)&nbsp;<B>and&nbsp;then</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Length&nbsp;(Empty'Result)&nbsp;=&nbsp;0;</span></div>
<div class="paranum"><a name="p7">7/5</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0112-1.TXT">AI12-0112-1</A></I>} 
<span class="insert5"></span>In function Copy, <span class="insert5">the 
postcondition is altered to:</span><span class="delete5">&nbsp;if the Capacity 
parameter is equal to or greater than the length of Source, the vector 
capacity exactly equals the value of the Capacity parameter.</span>&nbsp;</div>
<div class="paranum"><a name="p7.1">7.1/5</a></div>
<div class="Examples"><span class="insert5">&nbsp;&nbsp;&nbsp;Post&nbsp;=&gt;&nbsp;Length&nbsp;(Copy'Result)&nbsp;=&nbsp;Length&nbsp;(Source)&nbsp;<B>and&nbsp;then</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<B>if</B>&nbsp;Capacity&nbsp;&gt;&nbsp;Length&nbsp;(Source)&nbsp;<B>then</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copy'Result.Capacity&nbsp;=&nbsp;Capacity<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>else</B>&nbsp;Copy'Result.Capacity&nbsp;&gt;=&nbsp;Length&nbsp;(Source));</span></div>
<div class="paranum"><a name="p8">8/3</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">The description of 
Reserve_Capacity is replaced with:</div>
<div class="paranum"><a name="p8.1">8.1/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0112-1.TXT">AI12-0112-1</A></I>} 
<span class="insert5">&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;Reserve_Capacity&nbsp;(Container&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Vector;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Capacity&nbsp;&nbsp;:&nbsp;<B>in</B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Count_Type)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Pre&nbsp;=&gt;&nbsp;Capacity&nbsp;&lt;=&nbsp;Container.Capacity&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;Capacity_Error;</span></div>
<div class="paranum"><a name="p9">9/5</a></div>
<div class="Indented2">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0112-1.TXT">AI12-0112-1</A></I>} 
<span class="insert5">This</span><span class="delete5">&nbsp;If the specified 
Capacity is larger than the capacity of Container, then Reserve_Capacity 
propagates Capacity_Error. Otherwise, the</span> operation has no effect<span class="insert5">, 
[other than checking the precondition]</span>.&nbsp;</div>
<div class="paranum"><a name="p9.1">9.1/5</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0112-1.TXT">AI12-0112-1</A></I>} 
<span class="insert5">The portion of the postcondition checking the capacity 
is omitted from subprograms Set_Length, Assign, Insert, Insert_Space, 
Prepend, Append, and Delete.</span></div>
<div class="paranum"><a name="p9.2">9.2/5</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0112-1.TXT">AI12-0112-1</A></I>} 
<span class="insert5">For procedures Insert, Insert_Space, Prepend, and 
Append, the part of the precondition reading:</span></div>
<div class="paranum"><a name="p9.3">9.3/5</a></div>
<div class="Examples"><span class="insert5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<SPAN Class="roman"><I>some&nbsp;length</I></SPAN>&gt;&nbsp;&lt;=&nbsp;Maximum_Length&nbsp;-&nbsp;&lt;<SPAN Class="roman"><I>some&nbsp;other&nbsp;length</I></SPAN>&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;Constraint_Error)</span></div>
<div class="paranum"><a name="p9.4">9.4/5</a></div>
<div class="Bulleted-NoPrefix" style="margin-bottom: 0.3em"><span class="insert5">is 
replaced by:</span></div>
<div class="paranum"><a name="p9.5">9.5/5</a></div>
<div class="Examples"><span class="insert5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<SPAN Class="roman"><I>some&nbsp;length</I></SPAN>&gt;&nbsp;&lt;=&nbsp;Maximum_Length&nbsp;-&nbsp;&lt;<SPAN Class="roman"><I>some&nbsp;other&nbsp;length</I></SPAN>&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;Constraint_Error)&nbsp;<B>and&nbsp;then</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;<SPAN Class="roman"><I>some&nbsp;length</I></SPAN>&gt;&nbsp;&lt;=&nbsp;Container.Capacity&nbsp;-&nbsp;&lt;<SPAN Class="roman"><I>some&nbsp;other&nbsp;length</I></SPAN>&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;Capacity_Error)</span></div>

<H4 Class="centered">Bounded (Run-Time) Errors</H4>
<div class="paranum"><a name="p10">10/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0160-1.TXT">AI05-0160-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0265-1.TXT">AI05-0265-1</A></I>} 
<A NAME="I9138"></A>It is a bounded error to assign from a bounded vector 
object while tampering with elements [or cursors] of that object is prohibited. 
Either Program_Error is raised by the assignment, execution proceeds 
with the target object prohibiting tampering with elements [or cursors], 
or execution proceeds normally.<A NAME="I9139"></A>&nbsp;</div>
<div class="paranum"><a name="p10.a">10.a/3</a></div>
<div class="Annotations"><B>Proof:&nbsp;</B>Tampering with elements includes 
tampering with cursors, so we only really need to talk about tampering 
with elements here; we mention cursors for clarity.&nbsp;</div>

<H4 Class="centered">Erroneous Execution</H4>
<div class="paranum"><a name="p11">11/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0265-1.TXT">AI05-0265-1</A></I>} 
When a bounded vector object <I>V</I> is finalized, if tampering with 
cursors is prohibited for <I>V</I> other than due to an assignment from 
another vector, then execution is erroneous. <A NAME="I9140"></A></div>
<div class="paranum"><a name="p11.a">11.a/3</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>This is a tampering event, but 
since the implementation is not allowed to use Ada.Finalization, it is 
not possible in a pure Ada implementation to detect this error. (There 
is no Finalize routine that will be called that could make the check.) 
Since the check probably cannot be made, the bad effects that could occur 
(such as an iterator going into an infinite loop or accessing a nonexistent 
element) cannot be prevented and we have to allow anything. We do allow 
re-assigning an object that only prohibits tampering because it was copied 
from another object as that cannot cause any negative effects.&nbsp;</div>

<H4 Class="centered">Implementation Requirements</H4>
<div class="paranum"><a name="p12">12/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0184-1.TXT">AI05-0184-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0264-1.TXT">AI05-0264-1</A></I>} 
For each instance of Containers.Vectors and each instance of Containers.Bounded_Vectors, 
if the two instances meet the following conditions, then the output generated 
by the Vector'Output or Vector'Write subprograms of either instance shall 
be readable by the Vector'Input or Vector'Read of the other instance, 
respectively:</div>
<div class="paranum"><a name="p13">13/3</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0184-1.TXT">AI05-0184-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0248-1.TXT">AI05-0248-1</A></I>} 
the Element_Type parameters of the two instances are statically matching 
subtypes of the same type; and</div>
<div class="paranum"><a name="p14">14/3</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0184-1.TXT">AI05-0184-1</A></I>} 
the output generated by Element_Type'Output or Element_Type'Write is 
readable by Element_Type'Input or Element_Type'Read, respectively (where 
Element_Type denotes the type of the two actual Element_Type parameters); 
and</div>
<div class="paranum"><a name="p15">15/3</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0184-1.TXT">AI05-0184-1</A></I>} 
the preceding two conditions also hold for the Index_Type parameters 
of the instances.&nbsp;</div>

<H4 Class="centered">Implementation Advice</H4>
<div class="paranum"><a name="p16">16/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0001-1.TXT">AI05-0001-1</A></I>} 
Bounded vector objects should be implemented without implicit pointers 
or dynamic allocation.&nbsp;</div>
<div class="paranum"><a name="p16.a.1">16.a.1/3</a></div>
<div class="Annotations"><B>Implementation Advice:&nbsp;</B>Bounded vector 
objects should be implemented without implicit pointers or dynamic allocation.</div>
<div class="paranum"><a name="p17">17/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0001-1.TXT">AI05-0001-1</A></I>} 
The implementation advice for procedure Move to minimize copying does 
not apply.&nbsp;</div>
<div class="paranum"><a name="p17.a.1">17.a.1/3</a></div>
<div class="Annotations"><B>Implementation Advice:&nbsp;</B>The implementation 
advice for procedure Move to minimize copying does not apply to bounded 
vectors.</div>

<H4 Class="centered">Extensions to Ada 2005</H4>
<div class="paranum"><a name="p17.a">17.a/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0001-1.TXT">AI05-0001-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0160-1.TXT">AI05-0160-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0184-1.TXT">AI05-0184-1</A></I>} 
<A NAME="I9141"></A> The generic package Containers.Bounded_Vectors is 
new.&nbsp;</div>

<H4 Class="centered">Inconsistencies With Ada 2012</H4>
<div class="paranum"><a name="p17.b">17.b/5</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0111-1.TXT">AI12-0111-1</A></I>} 
<span class="insert5"><A NAME="I9142"></A><B>Correction:</B> Tampering 
with elements is now defined to be equivalent to tampering with cursors 
for bounded containers. If a program requires tampering detection to 
work, it might fail in Ada 2022. Needless to say, this shouldn't happen 
outside of test programs. See Inconsistencies With Ada 2012 in <A HREF="AA-A-18-2.html">A.18.2</A> 
for more details.</span>&nbsp;</div>

<H4 Class="centered">Incompatibilities With Ada 2012</H4>
<div class="paranum"><a name="p17.c">17.c/5</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0409-1.TXT">AI12-0409-1</A></I>} 
<span class="insert5"><A NAME="I9143"></A><B>Correction:</B>A bounded 
vector now only has Preelaborable_Initialization (abbreviated PI in this 
note) when the actual for the Element_Type has PI. If an program used 
a vector whose actual Element_Type does not have PI in a context when 
PI is required (such as a library-level object in a preelaborated unit 
or as a component of a type with PI), the program would be illegal in 
Ada 2022 but legal in original Ada 2012. This situation is unlikely, 
especially as some existing Ada 2012 implementations reject the instance 
in this case.</span>&nbsp;</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-18-18.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-18-20.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
