<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>The Package Locales</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert4 {text-decoration: underline; color: rgb(153,0,0) }
    SPAN.delete4 {text-decoration: line-through; color: rgb(153,0,0) }
    SPAN.insert5 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete5 {text-decoration: line-through; color: rgb(0,102,0) }
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.8em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 4.0em; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,51,153)"><B>Annotated</B></SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)"><B>&nbsp;Ada Reference Manual</B> (Ada 2022 Draft 35)</SPAN> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-18-33.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-B.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>A.19 The Package Locales</H1>
<div class="paranum"><a name="p1">1/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0248-1.TXT">AI05-0248-1</A></I>} 
A <I>locale</I><A NAME="I9241"></A> identifies a geopolitical place or 
region and its associated language, which can be used to determine other 
internationalization-related characteristics.&nbsp;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
The library package Locales has the following declaration:&nbsp;</div>
<div class="paranum"><a name="p3">3/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0414-1.TXT">AI12-0414-1</A></I>} 
<B>package</B>&nbsp;Ada.Locales<span class="delete5">&nbsp;<B>is</B></span><A NAME="I9242"></A><BR>
&nbsp;&nbsp;&nbsp;<span class="insert5"><B>with</B></span><span class="delete5">&nbsp;<B>pragma</B></span>&nbsp;Preelaborate<span class="insert5">,</span><span class="delete5">(Locales);<BR>
&nbsp;&nbsp;&nbsp;<B>pragma</B></span>&nbsp;Remote_Types<span class="insert5">&nbsp;<B>is</B></span><span class="delete5">(Locales);</span></div>
<div class="paranum"><a name="p4">4/4</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0037-1.TXT">AI12-0037-1</A></I>} 
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;<A NAME="I9243"></A>Language_Code&nbsp;<B>is&nbsp;</B><span class="insert4"><B>new</B></span><B></B><span class="delete4"><B>&nbsp;array</B></span><B></B>&nbsp;<span class="insert4">String&nbsp;</span>(1&nbsp;..&nbsp;3)<span class="insert4"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Dynamic_Predicate&nbsp;=&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<B>for&nbsp;all</B>&nbsp;E&nbsp;<B>of</B>&nbsp;Language_Code&nbsp;=&gt;&nbsp;E&nbsp;<B>in</B></span><span class="delete4">&nbsp;<B>of</B>&nbsp;Character&nbsp;<B>range</B></span>&nbsp;'a'&nbsp;..&nbsp;'z'<span class="insert4">)</span>;<BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;<A NAME="I9244"></A>Country_Code&nbsp;<B>is&nbsp;</B><span class="insert4"><B>new</B></span><B></B><span class="delete4"><B>&nbsp;array</B></span><B></B>&nbsp;<span class="insert4">String&nbsp;</span>(1&nbsp;..&nbsp;2)<span class="insert4"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Dynamic_Predicate&nbsp;=&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<B>for&nbsp;all</B>&nbsp;E&nbsp;<B>of</B>&nbsp;Country_Code&nbsp;&nbsp;=&gt;&nbsp;E&nbsp;<B>in</B></span><span class="delete4">&nbsp;<B>of</B>&nbsp;Character&nbsp;<B>range</B></span>&nbsp;'A'&nbsp;..&nbsp;'Z'<span class="insert4">)</span>;</div>
<div class="paranum"><a name="p4.a">4.a/4</a></div>
<div class="Annotations"><span class="insert4"><B>Discussion:&nbsp;</B></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0037-1.TXT">AI12-0037-1</A></I>} 
<span class="insert4">These types are derived from type String so that 
they can easily be converted to or from type String. That's important 
if one of these values needs to be input or displayed (via Text_IO, perhaps). 
We use the predicate to ensure that only possible component values are 
used. Ada does not allow converting between unrelated types with components 
that don't statically match, so we cannot declare new types with constrained 
components if we want conversions to or from type String.</span>&nbsp;</div>
<div class="paranum"><a name="p5">5/3</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<A NAME="I9245"></A>Language_Unknown&nbsp;:&nbsp;<B>constant</B>&nbsp;Language_Code&nbsp;:=&nbsp;&quot;und&quot;;<BR>
&nbsp;&nbsp;&nbsp;<A NAME="I9246"></A>Country_Unknown&nbsp;:&nbsp;<B>constant</B>&nbsp;Country_Code&nbsp;:=&nbsp;&quot;ZZ&quot;;</div>
<div class="paranum"><a name="p6">6/3</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9247"></A>Language&nbsp;<B>return</B>&nbsp;Language_Code;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9248"></A>Country&nbsp;<B>return</B>&nbsp;Country_Code;</div>
<div class="paranum"><a name="p7">7/3</a></div>
<div class="Examples"><B>end</B>&nbsp;Ada.Locales;</div>
<div class="paranum"><a name="p8">8/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0233-1.TXT">AI05-0233-1</A></I>} 
The <I>active locale</I><A NAME="I9249"></A><A NAME="I9250"></A> is the 
locale associated with the partition of the current task.</div>
<div class="paranum"><a name="p8.a">8.a/3</a></div>
<div class="Annotations"><B>Implementation Note:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0233-1.TXT">AI05-0233-1</A></I>} 
Some environments define both a system locale and the locale of the current 
user. For such environments, the active locale is that of current user 
if any; otherwise (as in a partition running on a server without a user), 
the system locale should be used.&nbsp;</div>
<div class="paranum"><a name="p9">9/5</a></div>
<div class="Normal"><SPAN STYLE="font-size: 80%"><I>This paragraph was 
deleted.</I></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0446-1.TXT">AI12-0446-1</A></I>} 
<span class="delete5">Language_Code is a lower-case string representation 
of an ISO 639-3 alpha-3 code that identifies a language.</span></div>
<div class="paranum"><a name="p10">10/5</a></div>
<div class="Normal"><SPAN STYLE="font-size: 80%"><I>This paragraph was 
deleted.</I></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0446-1.TXT">AI12-0446-1</A></I>} 
<span class="delete5">Country_Code is an upper-case string representation 
of an ISO 3166-1 alpha-2 code that identifies a country.</span></div>
<div class="paranum"><a name="p11">11/5</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0248-1.TXT">AI05-0248-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0446-1.TXT">AI12-0446-1</A></I>} 
Function Language returns the code of the language associated with the 
active locale. If the Language_Code associated with the active locale 
cannot be determined from the environment, then Language returns Language_Unknown.<span class="insert5">&nbsp;Otherwise, the result is a lower-case string representation of an ISO 
639-3:2007 alpha-3 code that identifies a language.</span></div>
<div class="paranum"><a name="p11.a">11.a/3</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>Some common language codes 
are: &quot;eng&quot; &ndash; English; &quot;fra&quot; &ndash; French; 
&quot;deu&quot; &ndash; German; &quot;zho&quot; &ndash; Chinese. These 
are the same codes as used by POSIX systems. We considered including 
constants for the most common languages, but that was rejected as the 
likely source of continual arguments about the constant names and which 
languages are important enough to include.&nbsp;</div>
<div class="paranum"><a name="p12">12/5</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0248-1.TXT">AI05-0248-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0446-1.TXT">AI12-0446-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0450-1.TXT">AI12-0450-1</A></I>} 
Function Country returns the code of the country associated with the 
active locale. If the Country_Code associated with the active locale 
cannot be determined from the environment, then Country returns Country_Unknown.<span class="insert5">&nbsp;Otherwise, the result is an upper-case string representation of an ISO 
3166-1:2020 alpha-2 code that identifies a country.</span></div>
<div class="paranum"><a name="p12.a">12.a/3</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>Some common country codes 
are: &quot;CA&quot; &ndash; Canada; &quot;FR&quot; &ndash; France; &quot;DE&quot; 
&ndash; Germany; &quot;IT&quot; &ndash; Italy; &quot;ES&quot; &ndash; 
Spain; &quot;GB&quot; &ndash; United Kingdom; &quot;US&quot; &ndash; 
United States. These are the same codes as used by POSIX systems. We 
didn't include any country constants for the same reasons that we didn't 
include any language constants.&nbsp;</div>

<H4 Class="centered">Extensions to Ada 2005</H4>
<div class="paranum"><a name="p12.b">12.b/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0233-1.TXT">AI05-0233-1</A></I>} 
<A NAME="I9251"></A>Package Locales is new.&nbsp;</div>

<H4 Class="centered">Inconsistencies With Ada 2012</H4>
<div class="paranum"><a name="p12.c">12.c/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0037-1.TXT">AI12-0037-1</A></I>} 
<span class="insert4"><A NAME="I9252"></A><B>Corrigendum:</B> Types Language_Code 
and Country_Code are defined with predicates rather than constrained 
components so that they can be converted to/from type String. This changes 
the exception raised from Constraint_Error to Assertion_Error if an assignment 
is attempted with an incorrect value. This could only matter if there 
is a handler specifically for Constraint_Error surrounding this assignment; 
as this exception raise is certainly caused by a bug (why would anyone 
want to use invalid language or country codes?), such a handler seems 
very unlikely. (In addition, this is a new Ada 2012 package, so there 
is not likely to be a lot of code using it.)</span>&nbsp;</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-18-33.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-B.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
