<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Formal Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.Indented1 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 4.3em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 4.0em; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B> (Ada 2022 Draft 35)</SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-12-4.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-12-5-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>12.5 Formal Types</H1>
<div class="paranum"><a name="p1">1/2</a></div>
<div class="Normal">A generic formal subtype can be used to pass to a 
generic unit a subtype whose type is in a certain category of types. 
</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Indented1"><SPAN Class="swiss">formal_type_declaration</SPAN><A NAME="I5292"></A><A NAME="S0320"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I5293"></A><SPAN Class="swiss"><A HREF="RM-12-5.html#S0321">formal_complete_type_declaration</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5294"></A><SPAN Class="swiss"><A HREF="RM-12-5.html#S0322">formal_incomplete_type_declaration</A></SPAN></div>
<div class="paranum"><a name="p2.1">2.1/5</a></div>
<div class="Indented1"><SPAN Class="swiss">formal_complete_type_declaration</SPAN><A NAME="I5295"></A><A NAME="S0321"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;<A NAME="I5296"></A><SPAN Class="swiss"><A HREF="RM-3-1.html#S0022">defining_identifier</A></SPAN>[<A NAME="I5297"></A><SPAN Class="swiss"><A HREF="RM-3-7.html#S0059">discriminant_part</A></SPAN>]&nbsp;<B>is</B>&nbsp;<A NAME="I5298"></A><SPAN Class="swiss"><A HREF="RM-12-5.html#S0323">formal_type_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<B>or&nbsp;use</B>&nbsp;<I>default_</I><A NAME="I5299"></A><SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0028">subtype_mark</A></SPAN>]&nbsp;[<A NAME="I5300"></A><SPAN Class="swiss"><A HREF="RM-13-1-1.html#S0346">aspect_specification</A></SPAN>];</div>
<div class="paranum"><a name="p2.2">2.2/5</a></div>
<div class="Indented1"><SPAN Class="swiss">formal_incomplete_type_declaration</SPAN><A NAME="I5301"></A><A NAME="S0322"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;<A NAME="I5302"></A><SPAN Class="swiss"><A HREF="RM-3-1.html#S0022">defining_identifier</A></SPAN>[<A NAME="I5303"></A><SPAN Class="swiss"><A HREF="RM-3-7.html#S0059">discriminant_part</A></SPAN>]&nbsp;[<B>is&nbsp;tagged</B>]<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<B>or&nbsp;use</B>&nbsp;<I>default_</I><A NAME="I5304"></A><SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0028">subtype_mark</A></SPAN>];</div>
<div class="paranum"><a name="p3">3/2</a></div>
<div class="Indented1"><SPAN Class="swiss">formal_type_definition</SPAN><A NAME="I5305"></A><A NAME="S0323"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I5306"></A><SPAN Class="swiss"><A HREF="RM-12-5-1.html#S0324">formal_private_type_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5307"></A><SPAN Class="swiss"><A HREF="RM-12-5-1.html#S0325">formal_derived_type_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5308"></A><SPAN Class="swiss"><A HREF="RM-12-5-2.html#S0326">formal_discrete_type_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5309"></A><SPAN Class="swiss"><A HREF="RM-12-5-2.html#S0327">formal_signed_integer_type_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5310"></A><SPAN Class="swiss"><A HREF="RM-12-5-2.html#S0328">formal_modular_type_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5311"></A><SPAN Class="swiss"><A HREF="RM-12-5-2.html#S0329">formal_floating_point_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5312"></A><SPAN Class="swiss"><A HREF="RM-12-5-2.html#S0330">formal_ordinary_fixed_point_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5313"></A><SPAN Class="swiss"><A HREF="RM-12-5-2.html#S0331">formal_decimal_fixed_point_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5314"></A><SPAN Class="swiss"><A HREF="RM-12-5-3.html#S0332">formal_array_type_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5315"></A><SPAN Class="swiss"><A HREF="RM-12-5-4.html#S0333">formal_access_type_definition</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5316"></A><SPAN Class="swiss"><A HREF="RM-12-5-5.html#S0334">formal_interface_type_definition</A></SPAN></div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p4">4</a></div>
<div class="Normal"><A NAME="I5317"></A><A NAME="I5318"></A><A NAME="I5319"></A><A NAME="I5320"></A>For 
a generic formal subtype, the actual shall be a <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0028">subtype_mark</A></SPAN>; 
it denotes the <I>(generic) actual subtype</I>.&nbsp;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p5">5</a></div>
<div class="Normal"><A NAME="I5321"></A><A NAME="I5322"></A><A NAME="I5323"></A><A NAME="I5324"></A>A 
<SPAN Class="swiss"><A HREF="RM-12-5.html#S0320">formal_type_declaration</A></SPAN> 
declares a <I>(generic) formal type</I>, and its first subtype, the <I>(generic) 
formal subtype</I>.&nbsp;</div>
<div class="paranum"><a name="p6">6/3</a></div>
<div class="Normal"><A NAME="I5325"></A><A NAME="I5326"></A>The form 
of a <SPAN Class="swiss"><A HREF="RM-12-5.html#S0323">formal_type_definition</A></SPAN> 
<I>determines a category (of types)</I> to which the formal type belongs. 
For a <SPAN Class="swiss"><A HREF="RM-12-5-1.html#S0324">formal_private_type_definition</A></SPAN> 
the reserved words <B>tagged</B> and <B>limited</B> indicate the category 
of types (see <A HREF="RM-12-5-1.html">12.5.1</A>). The reserved word 
<B>tagged</B> also plays this role in the case of a <SPAN Class="swiss"><A HREF="RM-12-5.html#S0322">formal_incomplete_type_declaration</A></SPAN>. 
For a <SPAN Class="swiss"><A HREF="RM-12-5-1.html#S0325">formal_derived_type_definition</A></SPAN> 
the category of types is the derivation class rooted at the ancestor 
type. For other formal types, the name of the syntactic category indicates 
the category of types; a <SPAN Class="swiss"><A HREF="RM-12-5-2.html#S0326">formal_discrete_type_definition</A></SPAN> 
defines a discrete type, and so on.&nbsp;</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p7">7/2</a></div>
<div class="Normal">The actual type shall be in the category determined 
for the formal.&nbsp;</div>
<div class="paranum"><a name="p7.1">7.1/5</a></div>
<div class="Normal">&nbsp;The <I>default_</I><SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0028">subtype_mark</A></SPAN>, 
if any, shall denote a subtype which is allowed as an actual subtype 
for the formal type.</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p8">8/5</a></div>
<div class="Normal">The formal type also belongs to each category that 
contains the determined category. The primitive subprograms of the type 
are as for any type in the determined category. For a formal type other 
than a formal derived type, these are the predefined operators of the 
type. For an elementary formal type, the predefined operators are implicitly 
declared immediately after the declaration of the formal type. For a 
composite formal type, the predefined operators are implicitly declared 
either immediately after the declaration of the formal type, or later 
immediately within the declarative region in which the type is declared 
according to the rules of <A HREF="RM-7-3-1.html">7.3.1</A>. In an instance, 
the copy of such an implicit declaration declares a view of the predefined 
operator of the actual type, even if this operator has been overridden 
for the actual type and even if it is never declared for the actual type, 
unless the actual type is an untagged record type, in which case it declares 
a view of the primitive (equality) operator. The rules specific to formal 
derived types are given in <A HREF="RM-12-5-1.html">12.5.1</A>.&nbsp;</div>
<div class="paranum"><a name="p9">9</a></div>
<div class="Notes">NOTE 1&nbsp;&nbsp;&nbsp;Generic formal types, like 
all types, are not named. Instead, a <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
can denote a generic formal subtype. Within a generic unit, a generic 
formal type is considered as being distinct from all other (formal or 
nonformal) types.&nbsp;</div>
<div class="paranum"><a name="p10">10</a></div>
<div class="Notes">NOTE 2&nbsp;&nbsp;&nbsp;A <SPAN Class="swiss"><A HREF="RM-3-7.html#S0059">discriminant_part</A></SPAN> 
is allowed only for certain kinds of types, and therefore only for certain 
kinds of generic formal types. See <A HREF="RM-3-7.html">3.7</A>.&nbsp;</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p11">11</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Examples of generic 
formal types:</I>&nbsp;</div>
<div class="paranum"><a name="p12">12</a></div>
<div class="Examples"><B>type</B>&nbsp;Item&nbsp;<B>is</B>&nbsp;<B>private</B>;<BR>
<B>type</B>&nbsp;Buffer(Length&nbsp;:&nbsp;Natural)&nbsp;<B>is</B>&nbsp;<B>limited</B>&nbsp;<B>private</B>;</div>
<div class="paranum"><a name="p13">13</a></div>
<div class="Examples"><B>type</B>&nbsp;Enum&nbsp;&nbsp;<B>is</B>&nbsp;(&lt;&gt;);<BR>
<B>type</B>&nbsp;Int&nbsp;&nbsp;&nbsp;<B>is</B>&nbsp;<B>range</B>&nbsp;&lt;&gt;;<BR>
<B>type</B>&nbsp;Angle&nbsp;<B>is</B>&nbsp;<B>delta</B>&nbsp;&lt;&gt;;<BR>
<B>type</B>&nbsp;Mass&nbsp;&nbsp;<B>is</B>&nbsp;<B>digits</B>&nbsp;&lt;&gt;;</div>
<div class="paranum"><a name="p14">14</a></div>
<div class="Examples" style="margin-bottom: 0.9em"><B>type</B>&nbsp;Table&nbsp;<B>is</B>&nbsp;<B>array</B>&nbsp;(Enum)&nbsp;<B>of</B>&nbsp;Item;</div>
<div class="paranum"><a name="p15">15</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Example of a generic 
formal part declaring a formal integer type:</I>&nbsp;</div>
<div class="paranum"><a name="p16">16</a></div>
<div class="Examples"><B>generic</B><BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Rank&nbsp;<B>is</B>&nbsp;<B>range</B>&nbsp;&lt;&gt;;<BR>
&nbsp;&nbsp;&nbsp;First&nbsp;&nbsp;:&nbsp;Rank&nbsp;:=&nbsp;Rank'First;<BR>
&nbsp;&nbsp;&nbsp;Second&nbsp;:&nbsp;Rank&nbsp;:=&nbsp;First&nbsp;+&nbsp;1;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;the&nbsp;operator&nbsp;&quot;+&quot;&nbsp;of&nbsp;the&nbsp;type&nbsp;Rank&nbsp;&nbsp;</I></SPAN></div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-12-4.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-12-5-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
