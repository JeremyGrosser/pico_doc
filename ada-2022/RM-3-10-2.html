<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Operations of Access Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.WideAbove {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 4.3em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 4.0em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.Indented2Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Indented2Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.Indented4Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 9.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Indented4Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 9.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.Indented2NestedBulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Indented2NestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.Indented5NestedBulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left:  11.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Indented5NestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left:  11.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.WideHanging-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 7.8em; margin-top: 0em; margin-bottom: 0.6em}
    DIV.WideHanging-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B> (Ada 2022 Draft 35)</SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-10-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-11.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>3.10.2 Operations of Access Types</H1>
<div class="paranum"><a name="p1">1</a></div>
<div class="Normal">The attribute Access is used to create access values 
designating aliased objects and nonintrinsic subprograms. The &ldquo;accessibility&rdquo; 
rules prevent dangling references (in the absence of uses of certain 
unchecked features &mdash; see Clause <A HREF="RM-13.html">13</A>).&nbsp;</div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum"><a name="p2">2/2</a></div>
<div class="Normal"><A NAME="I2390"></A>For an <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN> 
with <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0101">attribute_designator</A></SPAN> 
Access (or Unchecked_Access &mdash; see <A HREF="RM-13-10.html">13.10</A>), 
the expected type shall be a single access type <I>A</I> such that:&nbsp;</div>
<div class="paranum"><a name="p2.1">2.1/2</a></div>
<div class="Bulleted"><I>A</I> is an access-to-object type with designated 
type <I>D</I> and the type of the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
is <I>D</I>'Class or is covered by <I>D</I>, or</div>
<div class="paranum"><a name="p2.2">2.2/2</a></div>
<div class="Bulleted"><I>A</I> is an access-to-subprogram type whose 
designated profile is type conformant with that of the prefix.&nbsp;</div>
<div class="paranum"><a name="p2.3">2.3/2</a></div>
<div class="Normal">&nbsp;The <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
of such an <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN> 
is never interpreted as an <SPAN Class="swiss"><A HREF="RM-4-1.html#S0095">implicit_dereference</A></SPAN> 
or a parameterless <SPAN Class="swiss"><A HREF="RM-6-4.html#S0218">function_call</A></SPAN> 
(see <A HREF="RM-4-1-4.html">4.1.4</A>). <A NAME="I2391"></A><A NAME="I2392"></A>The 
designated type or profile of the expected type of the <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN> 
is the expected type or profile for the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN>. 
</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p3">3/5</a></div>
<div class="Normal"><A NAME="I2393"></A><A NAME="I2394"></A><A NAME="I2395"></A><A NAME="I2396"></A><A NAME="I2397"></A><A NAME="I2398"></A>The 
accessibility rules, which prevent dangling references, are written in 
terms of <I>accessibility levels</I>, which reflect the run-time nesting 
of <I>masters</I>. As explained in <A HREF="RM-7-6-1.html">7.6.1</A>, 
a master is the execution of a certain construct (called a <I>master 
construct</I>), such as a <SPAN Class="swiss"><A HREF="RM-6-3.html#S0216">subprogram_body</A></SPAN>. 
An accessibility level is <I>deeper than</I> another if it is more deeply 
nested at run time. For example, an object declared local to a called 
subprogram has a deeper accessibility level than an object declared local 
to the calling subprogram. The accessibility rules for access types require 
that the accessibility level of an object designated by an access value 
be no deeper than that of the access type. This ensures that the object 
will live at least as long as the access type, which in turn ensures 
that the access value cannot later designate an object that no longer 
exists. The Unchecked_Access attribute may be used to circumvent the 
accessibility rules.</div>
<div class="paranum"><a name="p4">4</a></div>
<div class="Normal"><A NAME="I2399"></A><A NAME="I2400"></A>A given accessibility 
level is said to be <I>statically deeper</I> than another if the given 
level is known at compile time (as defined below) to be deeper than the 
other for all possible executions. In most cases, accessibility is enforced 
at compile time by Legality Rules. Run-time accessibility checks are 
also used, since the Legality Rules do not cover certain cases involving 
access parameters and generic packages.</div>
<div class="paranum"><a name="p5">5/5</a></div>
<div class="Normal" style="margin-bottom: 0.4em">Each master, and each 
entity and view created by it, has an accessibility level; when two levels 
are defined to be the same, the accessibility levels of the two associated 
entities are said to be <I>tied</I><A NAME="I2401"></A> to each other. 
Accessibility levels are defined as follows:&nbsp;</div>
<div class="paranum"><a name="p6">6</a></div>
<div class="Bulleted">The accessibility level of a given master is deeper 
than that of each dynamically enclosing master, and deeper than that 
of each master upon which the task executing the given master directly 
depends (see <A HREF="RM-9-3.html">9.3</A>).</div>
<div class="paranum"><a name="p7">7/5</a></div>
<div class="Bulleted">An entity or view defined by a declaration and 
created as part of its elaboration has the same accessibility level as 
the innermost master of the declaration except in the cases of renaming 
and derived access types described below. A formal parameter of a callable 
entity has the same accessibility level as the master representing the 
invocation of the entity.&nbsp;</div>
<div class="paranum"><a name="p8">8/5</a></div>
<div class="Bulleted">The accessibility level of a view of an object 
or subprogram defined by a <SPAN Class="swiss"><A HREF="RM-8-5.html#S0238">renaming_declaration</A></SPAN> 
is the same as that of the renamed view, unless the renaming is of a 
formal subprogram, in which case the accessibility level is that of the 
instance.</div>
<div class="paranum"><a name="p9">9/2</a></div>
<div class="Bulleted">The accessibility level of a view conversion, <SPAN Class="swiss"><A HREF="RM-4-7.html#S0163">qualified_expression</A></SPAN>, 
or parenthesized expression, is the same as that of the operand.</div>
<div class="paranum"><a name="p9.1">9.1/5</a></div>
<div class="Bulleted">The accessibility level of a <SPAN Class="swiss"><A HREF="RM-4-5-7.html#S0148">conditional_expression</A></SPAN> 
(see <A HREF="RM-4-5-7.html">4.5.7</A>) is the accessibility level of 
the evaluated <I>dependent_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN>.</div>
<div class="paranum"><a name="p9.2">9.2/5</a></div>
<div class="Bulleted">The accessibility level of a <SPAN Class="swiss"><A HREF="RM-4-5-9.html#S0156">declare_expression</A></SPAN> 
(see <A HREF="RM-4-5-9.html">4.5.9</A>) is the accessibility level of 
the <I>body_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN>.</div>
<div class="paranum"><a name="p10">10/4</a></div>
<div class="Bulleted">The accessibility level of an <SPAN Class="swiss"><A HREF="RM-4-3.html#S0106">aggregate</A></SPAN> 
that is used (in its entirety) to directly initialize part of an object 
is that of the object being initialized. In other contexts, the accessibility 
level of an <SPAN Class="swiss"><A HREF="RM-4-3.html#S0106">aggregate</A></SPAN> 
is that of the innermost master that evaluates the <SPAN Class="swiss"><A HREF="RM-4-3.html#S0106">aggregate</A></SPAN>. 
Corresponding rules apply to a value conversion (see <A HREF="RM-4-6.html">4.6</A>).</div>
<div class="paranum"><a name="p10.1">10.1/3</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">The accessibility 
level of the result of a function call is that of the <I>master of the 
function call</I>, which is determined by the point of call as follows:<A NAME="I2402"></A><A NAME="I2403"></A><A NAME="I2404"></A></div>
<div class="paranum"><a name="p10.2">10.2/5</a></div>
<div class="Indented2NestedBulleted">If the result type at the point 
of the function (or access-to-function type) declaration is a composite 
type, and the result is used (in its entirety) to directly initialize 
part of an object, the master is that of the object being initialized. 
In the case where the initialized object is a coextension (see below) 
that becomes a coextension of another object, the master is that of the 
eventual object to which the coextension will be transferred.</div>
<div class="paranum"><a name="p10.3">10.3/5</a></div>
<div class="Indented2NestedBulleted">If the result is of an anonymous 
access type and is converted to a (named or anonymous) access type, the 
master is determined following the rules given below for determining 
the master of an object created by an allocator (even if the access result 
is of an access-to-subprogram type);</div>
<div class="paranum"><a name="p10.4">10.4/5</a></div>
<div class="Indented2NestedBulleted"><SPAN STYLE="font-size: 80%"><I>This 
paragraph was deleted.</I></SPAN></div>
<div class="paranum"><a name="p10.5">10.5/5</a></div>
<div class="Indented2NestedBulleted">If the call itself defines the result 
of a function <I>F</I>, or has an accessibility level that is tied to 
the result of such a function <I>F</I>, then the master of the call is 
that of the master of the call invoking <I>F</I>;</div>
<div class="paranum"><a name="p10.6">10.6/3</a></div>
<div class="Indented2NestedBulleted">In other cases, the master of the 
call is that of the innermost master that evaluates the function call.</div>
<div class="paranum"><a name="p10.7">10.7/3</a></div>
<div class="Bulleted-NoPrefix">In the case of a call to a function whose 
result type is an anonymous access type, the accessibility level of the 
type of the result of the function call is also determined by the point 
of call as described above.</div>
<div class="paranum"><a name="p10.8">10.8/3</a></div>
<div class="Bulleted">Within a return statement, the accessibility level 
of the return object is that of the execution of the return statement. 
If the return statement completes normally by returning from the function, 
then prior to leaving the function, the accessibility level of the return 
object changes to be a level determined by the point of call, as does 
the level of any coextensions (see below) of the return object.</div>
<div class="paranum"><a name="p11">11</a></div>
<div class="Bulleted">The accessibility level of a derived access type 
is the same as that of its ultimate ancestor.</div>
<div class="paranum"><a name="p11.1">11.1/2</a></div>
<div class="Bulleted">The accessibility level of the anonymous access 
type defined by an <SPAN Class="swiss"><A HREF="RM-3-10.html#S0084">access_definition</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="RM-8-5-1.html#S0239">object_renaming_declaration</A></SPAN> 
is the same as that of the renamed view.</div>
<div class="paranum"><a name="p11.2">11.2/5</a></div>
<div class="Bulleted">The accessibility level of the anonymous access 
type defined by an <SPAN Class="swiss"><A HREF="RM-3-10.html#S0084">access_definition</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="RM-5-5-2.html#S0184">loop_parameter_subtype_indication</A></SPAN> 
is that of the loop parameter.</div>
<div class="paranum"><a name="p12">12/2</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">The accessibility 
level of the anonymous access type of an access discriminant in the <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN> 
or <SPAN Class="swiss"><A HREF="RM-4-7.html#S0163">qualified_expression</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0164">allocator</A></SPAN>, 
or in the <SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
or <SPAN Class="swiss"><A HREF="RM-6-5.html#S0226">return_subtype_indication</A></SPAN> 
of a return statement is determined as follows:</div>
<div class="paranum"><a name="p12.1">12.1/2</a></div>
<div class="Indented2NestedBulleted">If the value of the access discriminant 
is determined by a <SPAN Class="swiss"><A HREF="RM-3-7-1.html#S0065">discriminant_association</A></SPAN> 
in a <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN>, 
the accessibility level of the object or subprogram designated by the 
associated value (or library level if the value is null);&nbsp;</div>
<div class="paranum"><a name="p12.2">12.2/3</a></div>
<div class="Indented2NestedBulleted">If the value of the access discriminant 
is determined by a <SPAN Class="swiss"><A HREF="RM-3-7.html#S0063">default_expression</A></SPAN> 
in the declaration of the discriminant, the level of the object or subprogram 
designated by the associated value (or library level if null);&nbsp;</div>
<div class="paranum"><a name="p12.3">12.3/3</a></div>
<div class="Indented2NestedBulleted">If the value of the access discriminant 
is determined by a <SPAN Class="swiss"><A HREF="RM-4-3-1.html#S0109">record_component_association</A></SPAN> 
in an <SPAN Class="swiss"><A HREF="RM-4-3.html#S0106">aggregate</A></SPAN>, 
the accessibility level of the object or subprogram designated by the 
associated value (or library level if the value is null);</div>
<div class="paranum"><a name="p12.4">12.4/3</a></div>
<div class="Indented2NestedBulleted">In other cases, where the value 
of the access discriminant is determined by an object with an unconstrained 
nominal subtype, the accessibility level of the object.</div>
<div class="paranum"><a name="p12.5">12.5/3</a></div>
<div class="Bulleted">The accessibility level of the anonymous access 
type of an access discriminant in any other context is that of the enclosing 
object.</div>
<div class="paranum"><a name="p13">13/3</a></div>
<div class="Bulleted">The accessibility level of the anonymous access 
type of an access parameter specifying an access-to-object type is the 
same as that of the view designated by the actual (or library-level if 
the actual is null).&nbsp;</div>
<div class="paranum"><a name="p13.1">13.1/2</a></div>
<div class="Bulleted">The accessibility level of the anonymous access 
type of an access parameter specifying an access-to-subprogram type is 
deeper than that of any master; all such anonymous access types have 
this same level.&nbsp;</div>
<div class="paranum"><a name="p13.2">13.2/4</a></div>
<div class="Bulleted">The accessibility level of the anonymous access 
subtype defined by a <SPAN Class="swiss"><A HREF="RM-6-5.html#S0226">return_subtype_indication</A></SPAN> 
that is an <SPAN Class="swiss"><A HREF="RM-3-10.html#S0084">access_definition</A></SPAN> 
(see <A HREF="RM-6-5.html">6.5</A>) is that of the result subtype of 
the enclosing function.</div>
<div class="paranum"><a name="p13.3">13.3/4</a></div>
<div class="Bulleted">The accessibility level of the type of a stand-alone 
object of an anonymous access-to-object type is the same as the accessibility 
level of the type of the access value most recently assigned to the object; 
accessibility checks ensure that this is never deeper than that of the 
declaration of the stand-alone object.</div>
<div class="paranum"><a name="p14">14/3</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">The accessibility 
level of an object created by an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0164">allocator</A></SPAN> 
is the same as that of the access type, except for an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0164">allocator</A></SPAN> 
of an anonymous access type (an <I>anonymous allocator</I>) in <A NAME="I2405"></A>certain 
contexts, as follows: For an anonymous allocator that defines the result 
of a function with an access result, the accessibility level is determined 
as though the <SPAN Class="swiss"><A HREF="RM-4-8.html#S0164">allocator</A></SPAN> 
were in place of the call of the function; in the special case of a call 
that is the operand of a type conversion, the level is that of the target 
access type of the conversion. For an anonymous allocator defining the 
value of an access parameter, the accessibility level is that of the 
innermost master of the call. For an anonymous allocator whose type is 
that of a stand-alone object of an anonymous access-to-object type, the 
accessibility level is that of the declaration of the stand-alone object. 
For one defining an access discriminant, the accessibility level is determined 
as follows:</div>
<div class="paranum"><a name="p14.1">14.1/3</a></div>
<div class="Indented2NestedBulleted">for an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0164">allocator</A></SPAN> 
used to define the discriminant of an object, the level of the object;</div>
<div class="paranum"><a name="p14.2">14.2/3</a></div>
<div class="Indented2NestedBulleted">for an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0164">allocator</A></SPAN> 
used to define the constraint in a <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN> 
in any other context, the level of the master that elaborates the <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN>.</div>
<div class="paranum"><a name="p14.3">14.3/3</a></div>
<div class="Indented2NestedBulleted"><SPAN STYLE="font-size: 80%"><I>This 
paragraph was deleted.</I></SPAN></div>
<div class="paranum"><a name="p14.4">14.4/3</a></div>
<div class="Bulleted-NoPrefix"><A NAME="I2406"></A>In the first case, 
the allocated object is said to be a <I>coextension</I> of the object 
whose discriminant designates it, as well as of any object of which the 
discriminated object is itself a coextension or subcomponent. If the 
allocated object is a coextension of an anonymous object representing 
the result of an aggregate or function call that is used (in its entirety) 
to directly initialize a part of an object, after the result is assigned, 
the coextension becomes a coextension of the object being initialized 
and is no longer considered a coextension of the anonymous object. All 
coextensions of an object (which have not thus been transfered by such 
an initialization) are finalized when the object is finalized (see <A HREF="RM-7-6-1.html">7.6.1</A>). 
</div>
<div class="paranum"><a name="p14.5">14.5/3</a></div>
<div class="Bulleted">Within a return statement, the accessibility level 
of the anonymous access type of an access result is that of the master 
of the call.</div>
<div class="paranum"><a name="p15">15/3</a></div>
<div class="Bulleted">The accessibility level of a view of an object 
or subprogram designated by an access value is the same as that of the 
access type.&nbsp;</div>
<div class="paranum"><a name="p16">16</a></div>
<div class="Bulleted">The accessibility level of a component, protected 
subprogram, or entry of (a view of) a composite object is the same as 
that of (the view of) the composite object.&nbsp;</div>
<div class="paranum"><a name="p16.1">16.1/5</a></div>
<div class="Normal">&nbsp;&nbsp;In the above rules, the operative constituents 
of a <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
or <SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
(see <A HREF="RM-4-4.html">4.4</A>) are considered to be used in a given 
context if the enclosing <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
or <SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
is used in that context.</div>
<div class="paranum"><a name="p17">17</a></div>
<div class="WideAbove" style="margin-bottom: 0.4em"><A NAME="I2407"></A><A NAME="I2408"></A>One 
accessibility level is defined to be <I>statically deeper</I> than another 
in the following cases:&nbsp;</div>
<div class="paranum"><a name="p18">18/5</a></div>
<div class="Bulleted">For a master construct that is statically nested 
within another master construct, the accessibility level of the inner 
master construct is statically deeper than that of the outer master construct. 
</div>
<div class="paranum"><a name="p18.1">18.1/2</a></div>
<div class="Bulleted">The accessibility level of the anonymous access 
type of an access parameter specifying an access-to-subprogram type is 
statically deeper than that of any master; all such anonymous access 
types have this same level.&nbsp;</div>
<div class="paranum"><a name="p19">19/5</a></div>
<div class="Bulleted">The statically deeper relationship does not apply 
to the accessibility level of the following:</div>
<div class="paranum"><a name="p19.1">19.1/5</a></div>
<div class="Indented2Bulleted">the anonymous type of an access parameter 
specifying an access-to-object type;</div>
<div class="paranum"><a name="p19.2">19.2/5</a></div>
<div class="Indented2Bulleted">the type of a stand-alone object of an 
anonymous access-to-object type;</div>
<div class="paranum"><a name="p19.3">19.3/5</a></div>
<div class="Indented2Bulleted">a <SPAN Class="swiss"><A HREF="RM-11-3.html#S0309">raise_expression</A></SPAN>;</div>
<div class="paranum"><a name="p19.4">19.4/5</a></div>
<div class="Indented2Bulleted">a descendant of a generic formal type;</div>
<div class="paranum"><a name="p19.5">19.5/5</a></div>
<div class="Indented2Bulleted">a descendant of a type declared in a generic 
formal package.&nbsp;</div>
<div class="paranum"><a name="p19.6">19.6/5</a></div>
<div class="Bulleted">When the statically deeper relationship does not 
apply, the accessibility level is not considered to be statically deeper, 
nor statically shallower, than any other.</div>
<div class="paranum"><a name="p19.7">19.7/5</a></div>
<div class="Bulleted"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN></div>
<div class="paranum"><a name="p19.8">19.8/5</a></div>
<div class="Bulleted">When within a function body or the return expression 
of an expression function, the accessibility level of the master representing 
an execution of the function is statically deeper than that of the master 
of the function call invoking that execution, independent of how the 
master of the function call is determined (see above).</div>
<div class="paranum"><a name="p20">20/5</a></div>
<div class="Bulleted">For determining whether one level is statically 
deeper than another when within a generic package body, the generic package 
is presumed to be instantiated at the same level as where it was declared; 
runtime checks are required in the case of more deeply nested instantiations. 
</div>
<div class="paranum"><a name="p21">21</a></div>
<div class="Bulleted">For determining whether one level is statically 
deeper than another when within the declarative region of a <SPAN Class="swiss"><A HREF="RM-3-2-1.html#S0023">type_declaration</A></SPAN>, 
the current instance of the type is presumed to be an object created 
at a deeper level than that of the type.&nbsp;</div>
<div class="paranum"><a name="p21.1">21.1/5</a></div>
<div class="Normal">&nbsp;&nbsp;Notwithstanding other rules given above,<A NAME="I2409"></A> 
the accessibility level of an entity that is tied to that of an explicitly 
aliased formal parameter of an enclosing function is considered (both 
statically and dynamically) to be the same as that of an entity whose 
accessibility level is tied to that of the return object of that function.</div>
<div class="paranum"><a name="p22">22</a></div>
<div class="Normal"><A NAME="I2410"></A><A NAME="I2411"></A>The accessibility 
level of all library units is called the <I>library level</I>; a library-level 
declaration or entity is one whose accessibility level is the library 
level.&nbsp;</div>
<div class="paranum"><a name="p23">23</a></div>
<div class="WideAbove" style="margin-bottom: 0.4em">The following attribute 
is defined for a <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
X that denotes an aliased view of an object:&nbsp;</div>
<div class="paranum"><a name="p24">24/1</a></div>
<div class="WideHanging-Term">X'Access</div><div class="WideHanging-Body">
<A NAME="I2412"></A><A NAME="I2413"></A>X'Access yields an access value 
that designates the object denoted by X. The type of X'Access is an access-to-object 
type, as determined by the expected type. The expected type shall be 
a general access type. <A NAME="I2414"></A>X shall denote an aliased 
view of an object, including possibly the current instance (see <A HREF="RM-8-6.html">8.6</A>) 
of a limited type within its definition, or a formal parameter or generic 
formal object of a tagged type. The view denoted by the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
X shall satisfy the following additional requirements, presuming the 
expected type for X'Access is the general access type <I>A</I> with designated 
type <I>D</I>:&nbsp;</div>
<div class="paranum"><a name="p25">25</a></div>
<div class="Indented4Bulleted">If <I>A</I> is an access-to-variable type, 
then the view shall be a variable; on the other hand, if <I>A</I> is 
an access-to-constant type, the view may be either a constant or a variable. 
</div>
<div class="paranum"><a name="p26">26/3</a></div>
<div class="Indented4Bulleted">The view shall not be a subcomponent that 
depends on discriminants of an object unless the object is known to be 
constrained.</div>
<div class="paranum"><a name="p27">27/2</a></div>
<div class="Indented4Bulleted">If <I>A</I> is a named access type and 
<I>D</I> is a tagged type, then the type of the view shall be covered 
by <I>D</I>; if <I>A</I> is anonymous and <I>D</I> is tagged, then the 
type of the view shall be either <I>D</I>'Class or a type covered by 
<I>D</I>; if <I>D</I> is untagged, then the type of the view shall be 
<I>D</I>, and either:&nbsp;</div>
<div class="paranum"><a name="p27.1">27.1/2</a></div>
<div class="Indented5NestedBulleted">the designated subtype of <I>A</I> 
shall statically match the nominal subtype of the view; or<A NAME="I2415"></A></div>
<div class="paranum"><a name="p27.2">27.2/4</a></div>
<div class="Indented5NestedBulleted"><I>D</I> shall be discriminated 
in its full view and unconstrained in any partial view, and the designated 
subtype of <I>A</I> shall be unconstrained.&nbsp;</div>
<div class="paranum"><a name="p28">28/3</a></div>
<div class="Indented4Bulleted">The accessibility level of the view shall 
not be statically deeper than that of the access type <I>A</I>. <A NAME="I2416"></A></div>
<div class="paranum"><a name="p28.1">28.1/3</a></div>
<div class="WideHanging-Body">In addition to the places where Legality 
Rules normally apply (see <A HREF="RM-12-3.html">12.3</A>), these requirements 
apply also in the private part of an instance of a generic unit.<A NAME="I2417"></A></div>
<div class="paranum"><a name="p29">29</a></div>
<div class="WideHanging-Body"><A NAME="I2418"></A><A NAME="I2419"></A><A NAME="I2420"></A>A 
check is made that the accessibility level of X is not deeper than that 
of the access type <I>A</I>. If this check fails, Program_Error is raised. 
</div>
<div class="paranum"><a name="p30">30/5</a></div>
<div class="WideHanging-Body"><A NAME="I2421"></A>If the nominal subtype 
of X does not statically match the designated subtype of <I>A</I>, a 
view conversion of X to the designated subtype is evaluated (which can 
raise Constraint_Error &mdash; see <A HREF="RM-4-6.html">4.6</A>) and 
the value of X'Access designates that view.&nbsp;</div>
<div class="paranum"><a name="p31">31</a></div>
<div class="Normal">The following attribute is defined for a <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
P that denotes a subprogram:&nbsp;</div>
<div class="paranum"><a name="p32">32/5</a></div>
<div class="WideHanging-Term">P'Access</div><div class="WideHanging-Body">
<A NAME="I2422"></A><A NAME="I2423"></A>P'Access yields an access value 
that designates the subprogram denoted by P. The type of P'Access is 
an access-to-subprogram type (<I>S</I>), as determined by the expected 
type. <A NAME="I2424"></A>The accessibility level of P shall not be statically 
deeper than that of <I>S</I>. If <I>S</I> is nonblocking, P shall be 
nonblocking. <A NAME="I2425"></A>In addition to the places where Legality 
Rules normally apply (see <A HREF="RM-12-3.html">12.3</A>), these rules 
apply also in the private part of an instance of a generic unit. The 
profile of P shall be subtype conformant with the designated profile 
of <I>S</I>, and shall not be Intrinsic. <A NAME="I2426"></A>If the subprogram 
denoted by P is declared within a generic unit, and the expression P'Access 
occurs within the body of that generic unit or within the body of a generic 
unit declared within the declarative region of the generic unit, then 
the ultimate ancestor of <I>S</I> shall be either a nonformal type declared 
within the generic unit or an anonymous access type of an access parameter.</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p32.1">32.1/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;&nbsp;An <SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
is said to have <I>distributed accessibility</I> if it is<A NAME="I2427"></A><A NAME="I2428"></A></div>
<div class="paranum"><a name="p32.2">32.2/3</a></div>
<div class="Bulleted">a <SPAN Class="swiss"><A HREF="RM-4-5-7.html#S0148">conditional_expression</A></SPAN> 
(see <A HREF="RM-4-5-7.html">4.5.7</A>); or</div>
<div class="paranum"><a name="p32.3">32.3/5</a></div>
<div class="Bulleted">a <SPAN Class="swiss"><A HREF="RM-4-5-9.html#S0156">declare_expression</A></SPAN> 
(see <A HREF="RM-4-5-9.html">4.5.9</A>) whose <I>body_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
has distributed accessibility; or</div>
<div class="paranum"><a name="p32.4">32.4/5</a></div>
<div class="Bulleted">a view conversion, <SPAN Class="swiss"><A HREF="RM-4-7.html#S0163">qualified_expression</A></SPAN>, 
or parenthesized expression whose operand has distributed accessibility. 
</div>
<div class="paranum"><a name="p32.5">32.5/5</a></div>
<div class="Normal">&nbsp;&nbsp;The statically deeper relationship does not apply 
to the accessibility level of an <SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
having distributed accessibility; that is, such an accessibility level 
is not considered to be statically deeper, nor statically shallower, 
than any other.</div>
<div class="paranum"><a name="p32.6">32.6/5</a></div>
<div class="Normal">&nbsp;&nbsp;Any static accessibility requirement that is imposed 
on an <SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
that has distributed accessibility (or on its type) is instead imposed 
on the <I>dependent_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN>s 
of the underlying <SPAN Class="swiss"><A HREF="RM-4-5-7.html#S0148">conditional_expression</A></SPAN>. 
This rule is applied recursively if a <I>dependent_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0132">expression</A></SPAN> 
also has distributed accessibility.</div>
<div class="paranum"><a name="p33">33</a></div>
<div class="Notes">NOTE 1&nbsp;&nbsp;&nbsp;The Unchecked_Access attribute 
yields the same result as the Access attribute for objects, but has fewer 
restrictions (see <A HREF="RM-13-10.html">13.10</A>). There are other 
predefined operations that yield access values: an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0164">allocator</A></SPAN> 
can be used to create an object, and return an access value that designates 
it (see <A HREF="RM-4-8.html">4.8</A>); evaluating the literal <B>null</B> 
yields a null access value that designates no entity at all (see <A HREF="RM-4-2.html">4.2</A>).</div>
<div class="paranum"><a name="p34">34/2</a></div>
<div class="Notes">NOTE 2&nbsp;&nbsp;&nbsp;<A NAME="I2429"></A>The predefined 
operations of an access type also include the assignment operation, qualification, 
and membership tests. Explicit conversion is allowed between general 
access types with matching designated subtypes; explicit conversion is 
allowed between access-to-subprogram types with subtype conformant profiles 
(see <A HREF="RM-4-6.html">4.6</A>). <A NAME="I2430"></A>Named access 
types have predefined equality operators; anonymous access types do not, 
but they can use the predefined equality operators for <I>universal_access</I> 
(see <A HREF="RM-4-5-2.html">4.5.2</A>).&nbsp;</div>
<div class="paranum"><a name="p35">35</a></div>
<div class="Notes">NOTE 3&nbsp;&nbsp;&nbsp;The object or subprogram designated 
by an access value can be named with a dereference, either an <SPAN Class="swiss"><A HREF="RM-4-1.html#S0094">explicit_dereference</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="RM-4-1.html#S0095">implicit_dereference</A></SPAN>. 
See <A HREF="RM-4-1.html">4.1</A>.</div>
<div class="paranum"><a name="p36">36</a></div>
<div class="Notes">NOTE 4&nbsp;&nbsp;&nbsp;A call through the dereference 
of an access-to-subprogram value is never a dispatching call.&nbsp;</div>
<div class="paranum"><a name="p37">37/5</a></div>
<div class="Notes">NOTE 5&nbsp;&nbsp;&nbsp;<A NAME="I2431"></A><A NAME="I2432"></A>The 
Access attribute for subprograms and parameters of an anonymous access-to-subprogram 
type can be used together to implement &ldquo;downward closures&rdquo; 
&mdash; that is, to pass a more-nested subprogram as a parameter to a 
less-nested subprogram, as can be appropriate for an iterator abstraction 
or numerical integration. Downward closures can also be implemented using 
generic formal subprograms (see <A HREF="RM-12-6.html">12.6</A>). Unlike 
for objects, there is no Unchecked_Access attribute for subprograms.</div>
<div class="paranum"><a name="p38">38/5</a></div>
<div class="Notes">NOTE 6&nbsp;&nbsp;&nbsp;Using an access-to-class-wide 
tagged type with a dispatching operation is a potentially more structured 
alternative to using an access-to-subprogram type.</div>
<div class="paranum"><a name="p39">39/5</a></div>
<div class="Notes">NOTE 7&nbsp;&nbsp;&nbsp;An implementation can consider 
two access-to-subprogram values to be unequal, even though they designate 
the same subprogram. For instance, this can happen because one points 
directly to the subprogram, while the other points to a special prologue 
that performs an Elaboration_Check and then jumps to the subprogram. 
See <A HREF="RM-4-5-2.html">4.5.2</A>.&nbsp;</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p40">40</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Example of use of 
the Access attribute:</I>&nbsp;</div>
<div class="paranum"><a name="p41">41/5</a></div>
<div class="Examples">Becky&nbsp;:&nbsp;Person_Name&nbsp;:=&nbsp;<B>new</B>&nbsp;Person(F);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="RM-3-10-1.html">3.10.1</A></I></SPAN><BR>
Cars&nbsp;&nbsp;:&nbsp;<B>array</B>&nbsp;(1..2)&nbsp;<B>of</B>&nbsp;<B>aliased</B>&nbsp;Car;<BR>
&nbsp;&nbsp;&nbsp;...<BR>
Becky.Vehicle&nbsp;:=&nbsp;Cars(1)'Access;<BR>
Casey.Vehicle&nbsp;:=&nbsp;Cars(2)'Access;</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-10-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-11.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
