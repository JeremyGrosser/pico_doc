<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Operations of Discrete Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 4.3em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 4.0em; margin-bottom: 0.6em}
    DIV.Indented4Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left:  10.6em; margin-bottom: 0.6em}
    DIV.SmallIndented1Examples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 4.6em; margin-bottom: 0.6em}
    DIV.WideHanging-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 7.8em; margin-top: 0em; margin-bottom: 0.6em}
    DIV.WideHanging-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B> (Ada 2022 Draft 35)</SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-5-4.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-5-6.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>3.5.5 Operations of Discrete Types</H1>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p1">1</a></div>
<div class="Normal" style="margin-bottom: 0.4em">For every discrete 
subtype S, the following attributes are defined:&nbsp;</div>
<div class="paranum"><a name="p2">2</a></div>
<div class="WideHanging-Term" style="margin-bottom: 0.4em">S'Pos</div><div class="WideHanging-Body">
<A NAME="I1867"></A><A NAME="I1868"></A>S'Pos denotes a function with 
the following specification:&nbsp;</div>
<div class="paranum"><a name="p3">3</a></div>
<div class="Indented4Examples"><B>function</B>&nbsp;S'Pos(<SPAN Class="roman"><I>Arg</I></SPAN>&nbsp;:&nbsp;S'Base)<BR>
&nbsp;&nbsp;<B>return</B>&nbsp;<SPAN Class="roman"><I>universal_integer</I></SPAN></div>
<div class="paranum"><a name="p4">4</a></div>
<div class="WideHanging-Body">This function returns the position number 
of the value of <SPAN Class="roman"><I>Arg</I></SPAN>, as a value of 
type <I>universal_integer</I>.</div>
<div class="paranum"><a name="p5">5</a></div>
<div class="WideHanging-Term" style="margin-bottom: 0.4em">S'Val</div><div class="WideHanging-Body">
<A NAME="I1869"></A><A NAME="I1870"></A>S'Val denotes a function with 
the following specification:&nbsp;</div>
<div class="paranum"><a name="p6">6</a></div>
<div class="Indented4Examples"><B>function</B>&nbsp;S'Val(<SPAN Class="roman"><I>Arg</I></SPAN>&nbsp;:&nbsp;<SPAN Class="roman"><I>universal_integer</I></SPAN>)<BR>
&nbsp;&nbsp;<B>return</B>&nbsp;S'Base</div>
<div class="paranum"><a name="p7">7</a></div>
<div class="WideHanging-Body"><A NAME="I1871"></A><A NAME="I1872"></A>This 
function returns a value of the type of S whose position number equals 
the value of <SPAN Class="roman"><I>Arg</I></SPAN>. <A NAME="I1873"></A><A NAME="I1874"></A>For 
the evaluation of a call on S'Val, if there is no value in the base range 
of its type with the given position number, Constraint_Error is raised. 
</div>
<div class="paranum"><a name="p7.1">7.1/4</a></div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;For every static discrete 
subtype S for which there exists at least one value belonging to S that 
satisfies the predicates of S, the following attributes are defined:</div>
<div class="paranum"><a name="p7.2">7.2/4</a></div>
<div class="WideHanging-Term">&nbsp;S'First_Valid</div><div class="WideHanging-Body"><br clear="left">
<A NAME="I1875"></A><A NAME="I1876"></A>S'First_Valid denotes the smallest 
value that belongs to S and satisfies the predicates of S. The value 
of this attribute is of the type of S.</div>
<div class="paranum"><a name="p7.3">7.3/4</a></div>
<div class="WideHanging-Term">&nbsp;S'Last_Valid</div><div class="WideHanging-Body">
<A NAME="I1877"></A><A NAME="I1878"></A>S'Last_Valid denotes the largest 
value that belongs to S and satisfies the predicates of S. The value 
of this attribute is of the type of S.&nbsp;</div>
<div class="paranum"><a name="p7.4">7.4/3</a></div>
<div class="Normal">&nbsp;First_Valid and Last_Valid <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN>s 
are always static expressions. Any explicit predicate of S can only have 
been specified by a Static_Predicate aspect.</div>

<H4 Class="centered">Implementation Advice</H4>
<div class="paranum"><a name="p8">8</a></div>
<div class="Normal">For the evaluation of a call on S'Pos for an enumeration 
subtype, if the value of the operand does not correspond to the internal 
code for any enumeration literal of its type (perhaps due to an uninitialized 
variable), then the implementation should raise Program_Error. This is 
particularly important for enumeration types with noncontiguous internal 
codes specified by an <SPAN Class="swiss"><A HREF="RM-13-4.html#S0350">enumeration_representation_clause</A></SPAN>. 
</div>
<div class="paranum"><a name="p9">9</a></div>
<div class="Notes">NOTE 1&nbsp;&nbsp;&nbsp;Indexing and loop iteration 
use values of discrete types.</div>
<div class="paranum"><a name="p10">10</a></div>
<div class="Notes">NOTE 2&nbsp;&nbsp;&nbsp;<A NAME="I1879"></A>The predefined 
operations of a discrete type include the assignment operation, qualification, 
the membership tests, and the relational operators; for a boolean type 
they include the short-circuit control forms and the logical operators; 
for an integer type they include type conversion to and from other numeric 
types, as well as the binary and unary adding operators &ndash; and +, 
the multiplying operators, the unary operator <B>abs</B>, and the exponentiation 
operator. The assignment operation is described in <A HREF="RM-5-2.html">5.2</A>. 
The other predefined operations are described in Clause <A HREF="RM-4.html">4</A>.</div>
<div class="paranum"><a name="p11">11</a></div>
<div class="Notes">NOTE 3&nbsp;&nbsp;&nbsp;As for all types, objects 
of a discrete type have Size and Address attributes (see <A HREF="RM-13-3.html">13.3</A>).</div>
<div class="paranum"><a name="p12">12/5</a></div>
<div class="Notes" style="margin-bottom: 0.4em">NOTE 4&nbsp;&nbsp;&nbsp;For 
a subtype of a discrete type, the result delivered by the attribute Val 
can be outside the subtype; similarly, the actual parameter of the attribute 
Pos can also be outside the subtype. The following relations are satisfied 
(in the absence of an exception) by these attributes:&nbsp;</div>
<div class="paranum"><a name="p13">13</a></div>
<div class="SmallIndented1Examples">&nbsp;&nbsp;&nbsp;S'Val(S'Pos(X))&nbsp;=&nbsp;X<BR>
&nbsp;&nbsp;&nbsp;S'Pos(S'Val(N))&nbsp;=&nbsp;N</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p14">14</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Examples of attributes 
of discrete subtypes:&nbsp;</I></div>
<div class="paranum"><a name="p15">15/5</a></div>
<div class="Examples">--<SPAN Class="roman"><I>&nbsp;&nbsp;For&nbsp;the&nbsp;types&nbsp;and&nbsp;subtypes&nbsp;declared&nbsp;in&nbsp;<A HREF="RM-3-5-1.html">3.5.1</A>&nbsp;the&nbsp;following&nbsp;hold:&nbsp;</I></SPAN></div>
<div class="paranum"><a name="p16">16</a></div>
<div class="Examples">--&nbsp;&nbsp;Color'First&nbsp;&nbsp;&nbsp;=&nbsp;White,&nbsp;&nbsp;&nbsp;Color'Last&nbsp;&nbsp;&nbsp;=&nbsp;Black<BR>
--&nbsp;&nbsp;Rainbow'First&nbsp;=&nbsp;Red,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rainbow'Last&nbsp;=&nbsp;Blue</div>
<div class="paranum"><a name="p17">17</a></div>
<div class="Examples">--&nbsp;&nbsp;Color'Succ(Blue)&nbsp;=&nbsp;Rainbow'Succ(Blue)&nbsp;=&nbsp;Brown<BR>
--&nbsp;&nbsp;Color'Pos(Blue)&nbsp;&nbsp;=&nbsp;Rainbow'Pos(Blue)&nbsp;&nbsp;=&nbsp;4<BR>
--&nbsp;&nbsp;Color'Val(0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;Rainbow'Val(0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;White</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-5-4.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-5-6.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
